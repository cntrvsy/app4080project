import{_ as Et}from"../chunks/preload-helper.a4192956.js";import{r as Q,u as vn,v as qe,w as je,s as ge,x as ee,f as U,a as q,g as N,h as F,c as V,d as y,j as p,i as B,y as x,z as te,A as ie,B as se,C as zt,D as le,E as fe,k as Ei,F as z,G as X,l as Ze,m as $e,H as yn,I as dt,J as Ti,K as Oi,e as Se,L as Oe,M as wn,N as kn,O as Ut,p as Ci,P as hi,Q as Ie,R as Sn,S as di,T as Le,o as Ds,U as xs,n as Us,V as Ye}from"../chunks/scheduler.81ced4c7.js";import{n as En,l as Tn,f as On,h as Cn,S as be,i as pe,a as C,g as oe,t as j,c as ae,j as Nt,k as Ft,b as ce,d as ue,m as he,e as de}from"../chunks/index.3d272ea1.js";import{w as qt}from"../chunks/index.f5c5a73b.js";import{i as Rn,g as An}from"../chunks/stores.6d42c9a7.js";import{p as Ns,s as Pn,m as Ri,a as Ai,g as jn,b as In}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.7d286a49.js";import{c as Ln,g as Dn,f as lt,a as Pi,b as xn}from"../chunks/index.e80e6527.js";import{e as ji,u as Un,f as Nn}from"../chunks/each.e7406bfc.js";import{g as Fn,i as Bn}from"../chunks/navigation.35389e46.js";import{p as Fs,n as Mn}from"../chunks/stores.c4ddaa53.js";const Hn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function zn(s,e,t,i){if(!e)return Q;const r=s.getBoundingClientRect();if(e.left===r.left&&e.right===r.right&&e.top===r.top&&e.bottom===r.bottom)return Q;const{delay:n=0,duration:o=300,easing:a=vn,start:l=En()+n,end:c=l+o,tick:u=Q,css:h}=t(s,{from:e,to:r},i);let d=!0,f=!1,m;function _(){h&&(m=On(s,0,1,o,n,a,h)),n||(f=!0)}function g(){h&&Cn(s,m),d=!1}return Tn(b=>{if(!f&&b>=l&&(f=!0),f&&b>=c&&(u(1,0),g()),!d)return!1;if(f){const v=b-l,E=0+1*a(v/o);u(E,1-E)}return!0}),_(),u(0,1),g}function qn(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:i}=e,r=s.getBoundingClientRect();s.style.position="absolute",s.style.width=t,s.style.height=i,Bs(s,r)}}function Bs(s,e){const t=s.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const i=getComputedStyle(s),r=i.transform==="none"?"":i.transform;s.style.transform=`${r} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}const Vn="https://zjrmivavcrgtsnceykiq.supabase.co",Gn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpqcm1pdmF2Y3JndHNuY2V5a2lxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDA4NTk2MTAsImV4cCI6MjAxNjQzNTYxMH0.a4RPjkW8i5gcOi_2H18a-uOJQ6_Wq3Aen2VBc6LZTHA",Jn=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Et(()=>Promise.resolve().then(()=>Tt),void 0,import.meta.url).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class fi extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class Kn extends fi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Wn extends fi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Yn extends fi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xn=globalThis&&globalThis.__awaiter||function(s,e,t,i){function r(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):r(u.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class Qn{constructor(e,{headers:t={},customFetch:i}={}){this.url=e,this.headers=t,this.fetch=Jn(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return Xn(this,void 0,void 0,function*(){try{const{headers:r,method:n,body:o}=t;let a={},l;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:l}).catch(f=>{throw new Kn(f)}),u=c.headers.get("x-relay-error");if(u&&u==="true")throw new Wn(c);if(!c.ok)throw new Yn(c);let h=((i=c.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),d;return h==="application/json"?d=yield c.json():h==="application/octet-stream"?d=yield c.blob():h==="multipart/form-data"?d=yield c.formData():d=yield c.text(),{data:d,error:null}}catch(r){return{data:null,error:r}}})}}var Zn=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ct=Zn();const $n=ct.fetch,gi=ct.fetch.bind(ct),Ms=ct.Headers,er=ct.Request,tr=ct.Response,Tt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ms,Request:er,Response:tr,default:gi,fetch:$n},Symbol.toStringTag,{value:"Module"}));class ir{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=gi:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let r=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async n=>{var o,a,l;let c=null,u=null,h=null,d=n.status,f=n.statusText;if(n.ok){if(this.method!=="HEAD"){const b=await n.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(a=n.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,d=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const _=await n.text();try{c=JSON.parse(_),Array.isArray(c)&&n.status===404&&(u=[],c=null,d=200,f="OK")}catch{n.status===404&&_===""?(d=204,f="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,d=200,f="OK"),c&&this.shouldThrowOnError)throw c}return{error:c,data:u,count:h,status:d,statusText:f}});return this.shouldThrowOnError||(r=r.catch(n=>{var o,a,l;return{error:{message:`${(o=n==null?void 0:n.name)!==null&&o!==void 0?o:"FetchError"}: ${n==null?void 0:n.message}`,details:`${(a=n==null?void 0:n.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=n==null?void 0:n.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}}class sr extends ir{select(e){let t=!1;const i=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:i,foreignTable:r,referencedTable:n=r}={}){const o=n?`${n}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:i=t}={}){const r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:i,referencedTable:r=i}={}){const n=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:i=!1,buffers:r=!1,wal:n=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,i?"settings":null,r?"buffers":null,n?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class rt extends sr{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const i=t.map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:i,type:r}={}){let n="";r==="plain"?n="pl":r==="phrase"?n="ph":r==="websearch"&&(n="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${n}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,i])=>{this.url.searchParams.append(t,`eq.${i}`)}),this}not(e,t,i){return this.url.searchParams.append(e,`not.${t}.${i}`),this}or(e,{foreignTable:t,referencedTable:i=t}={}){const r=i?`${i}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,i){return this.url.searchParams.append(e,`${t}.${i}`),this}}class nr{constructor(e,{headers:t={},schema:i,fetch:r}){this.url=e,this.headers=t,this.schema=i,this.fetch=r}select(e,{head:t=!1,count:i}={}){const r=t?"HEAD":"GET";let n=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",o),i&&(this.headers.Prefer=`count=${i}`),new rt({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:i=!0}={}){const r="POST",n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),i||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new rt({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:i=!1,count:r,defaultToNull:n=!0}={}){const o="POST",a=[`resolution=${i?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new rt({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const i="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new rt({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",i=[];return e&&i.push(`count=${e}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new rt({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const rr="1.9.0",or={"X-Client-Info":`postgrest-js/${rr}`};class mi{constructor(e,{headers:t={},schema:i,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},or),t),this.schemaName=i,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new nr(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new mi(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,count:r}={}){let n;const o=new URL(`${this.url}/rpc/${e}`);let a;i?(n="HEAD",Object.entries(t).forEach(([c,u])=>{o.searchParams.append(c,`${u}`)})):(n="POST",a=t);const l=Object.assign({},this.headers);return r&&(l.Prefer=`count=${r}`),new rt({method:n,url:o,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}var Xt,Ii;function ar(){if(Ii)return Xt;Ii=1;var s=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Xt=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return s()}try{return __global__||s()}finally{delete Object.prototype.__global__}}(),Xt}const lr="websocket",cr="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",ur=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],hr="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",dr=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],fr="1.0.34",gr={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},mr="https://github.com/theturtle32/WebSocket-Node",_r={node:">=4.0.0"},br={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},pr={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},vr={verbose:!1},yr={test:"tape test/unit/*.js",gulp:"gulp"},wr="index",kr={lib:"./lib"},Sr="lib/browser.js",Er="Apache-2.0",Tr={name:lr,description:cr,keywords:ur,author:hr,contributors:dr,version:fr,repository:gr,homepage:mr,engines:_r,dependencies:br,devDependencies:pr,config:vr,scripts:yr,main:wr,directories:kr,browser:Sr,license:Er};var Or=Tr.version,Ge;if(typeof globalThis=="object")Ge=globalThis;else try{Ge=ar()}catch{}finally{if(!Ge&&typeof window<"u"&&(Ge=window),!Ge)throw new Error("Could not determine global this")}var wt=Ge.WebSocket||Ge.MozWebSocket,Cr=Or;function Hs(s,e){var t;return e?t=new wt(s,e):t=new wt(s),t}wt&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(s){Object.defineProperty(Hs,s,{get:function(){return wt[s]}})});var Rr={w3cwebsocket:wt?Hs:null,version:Cr};const Ar="2.8.4",Pr={"X-Client-Info":`realtime-js/${Ar}`},jr="1.0.0",zs=1e4,Ir=1e3;var pt;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(pt||(pt={}));var me;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(me||(me={}));var we;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(we||(we={}));var si;(function(s){s.websocket="websocket"})(si||(si={}));var Je;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Je||(Je={}));class qs{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Lr{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const r=t.getUint8(1),n=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=i.decode(e.slice(o,o+r));o=o+r;const l=i.decode(e.slice(o,o+n));o=o+n;const c=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Qt{constructor(e,t,i={},r=zs){this.channel=e,this.event=t,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Li;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Li||(Li={}));class vt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vt.syncState(this.state,r,n,o),this.pendingDiffs.forEach(l=>{this.state=vt.syncDiff(this.state,l,n,o)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},r=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=vt.syncDiff(this.state,r,n,o),a())}),this.onJoin((r,n,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:n,newPresences:o})}),this.onLeave((r,n,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:n,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,r){const n=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(n,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=n[c];if(h){const d=u.map(g=>g.presence_ref),f=h.map(g=>g.presence_ref),m=u.filter(g=>f.indexOf(g.presence_ref)<0),_=h.filter(g=>d.indexOf(g.presence_ref)<0);m.length>0&&(a[c]=m),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(n,{joins:a,leaves:l},i,r)}static syncDiff(e,t,i,r){const{joins:n,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(n,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}i(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,r(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const r=e[i];return"metas"in r?t[i]=r.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):t[i]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var J;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(J||(J={}));const Di=(s,e,t={})=>{var i;const r=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((n,o)=>(n[o]=Dr(o,s,e,r),n),{})},Dr=(s,e,t,i)=>{const r=e.find(a=>a.name===s),n=r==null?void 0:r.type,o=t[s];return n&&!i.includes(n)?Vs(n,o):ni(o)},Vs=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return Fr(e,t)}switch(s){case J.bool:return xr(e);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return Ur(e);case J.json:case J.jsonb:return Nr(e);case J.timestamp:return Br(e);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return ni(e);default:return ni(e)}},ni=s=>s,xr=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Ur=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},Nr=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},Fr=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,i=s[t];if(s[0]==="{"&&i==="}"){let n;const o=s.slice(1,t);try{n=JSON.parse("["+o+"]")}catch{n=o?o.split(","):[]}return n.map(a=>Vs(e,a))}return s},Br=s=>typeof s=="string"?s.replace(" ","T"):s;var xi;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(xi||(xi={}));var Ui;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes"})(Ui||(Ui={}));var Ni;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Ni||(Ni={}));class _i{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new Qt(this,we.join,this.params,this.timeout),this.rejoinTimer=new qs(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(we.reply,{},(r,n)=>{this._trigger(this._replyEventName(n),r)}),this.presence=new vt(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var i,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:o}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const a={},l={broadcast:n,presence:o,postgres_changes:(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(c=>c.filter))!==null&&r!==void 0?r:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,d=(u=h==null?void 0:h.length)!==null&&u!==void 0?u:0,f=[];for(let m=0;m<d;m++){const _=h[m],{filter:{event:g,schema:b,table:v,filter:E}}=_,T=c&&c[m];if(T&&T.event===g&&T.schema===b&&T.table===v&&T.filter===E)f.push(Object.assign(Object.assign({},_),{id:T.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this._on(e,t,i)}async send(e,t={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){const{event:n,payload:o}=e,a={method:"POST",headers:{apikey:(i=this.socket.accessToken)!==null&&i!==void 0?i:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=t.timeout)!==null&&r!==void 0?r:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var o,a,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&n("ok"),c.receive("ok",()=>n("ok")),c.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=me.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(we.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const r=new Qt(this,we.leave,{},e);r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,i){const r=new AbortController,n=setTimeout(()=>r.abort(),i),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(n),o}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Qt(this,e,t,i);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var r,n;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=we;if(i&&[a,l,c,u].indexOf(o)>=0&&i!==this._joinRef())return;let d=this._onMessage(o,t,i);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var m,_,g;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(_=f.filter)===null||_===void 0?void 0:_.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(d,i)):(n=this.bindings[o])===null||n===void 0||n.filter(f=>{var m,_,g,b,v,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const T=f.id,S=(m=f.filter)===null||m===void 0?void 0:m.event;return T&&((_=t.ids)===null||_===void 0?void 0:_.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((g=t.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const T=(v=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return T==="*"||T===((E=t==null?void 0:t.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:_,table:g,commit_timestamp:b,type:v,errors:E}=m;d=Object.assign(Object.assign({},{schema:_,table:g,commit_timestamp:b,eventType:v,new:{},old:{},errors:E}),this._getPayloadRecords(m))}f.callback(d,i)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const r=e.toLocaleLowerCase(),n={type:r,filter:t,callback:i};return this.bindings[r]?this.bindings[r].push(n):this.bindings[r]=[n],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(r=>{var n;return!(((n=r.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===i&&_i.isEqual(r.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(we.close,{},e)}_onError(e){this._on(we.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Di(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Di(e.columns,e.old_record)),t}}const Mr=()=>{};class Hr{constructor(e,t){var i;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Pr,this.params={},this.timeout=zs,this.transport=Rr.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Mr,this.conn=null,this.sendBuffer=[],this.serializer=new Lr,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=n=>{let o;return n?o=n:typeof fetch>"u"?o=(...a)=>Et(()=>Promise.resolve().then(()=>Tt),void 0,import.meta.url).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${si.websocket}`,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.transport&&(this.transport=t.transport),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const r=(i=t==null?void 0:t.params)===null||i===void 0?void 0:i.apikey;r&&(this.accessToken=r),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(n,o)=>o(JSON.stringify(n)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new qs(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case pt.connecting:return Je.Connecting;case pt.open:return Je.Open;case pt.closing:return Je.Closing;default:return Je.Closed}}isConnected(){return this.connectionState()===Je.Open}channel(e,t={config:{}}){const i=new _i(`realtime:${e}`,t,this);return this.channels.push(i),i}push(e){const{topic:t,event:i,payload:r,ref:n}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${i} (${n})`,r),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(we.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jr}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:i,event:r,payload:n,ref:o}=t;(o&&o===this.pendingHeartbeatRef||r===(n==null?void 0:n.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${i} ${r} ${o&&"("+o+")"||""}`,n),this.channels.filter(a=>a._isMember(i)).forEach(a=>a._trigger(r,n,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(we.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${i}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ir,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class bi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class zr extends bi{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Fi extends bi{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var qr=globalThis&&globalThis.__awaiter||function(s,e,t,i){function r(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):r(u.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const Gs=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Et(()=>Promise.resolve().then(()=>Tt),void 0,import.meta.url).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},Vr=()=>qr(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Et(()=>Promise.resolve().then(()=>Tt),void 0,import.meta.url)).Response:Response});var ft=globalThis&&globalThis.__awaiter||function(s,e,t,i){function r(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):r(u.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const Zt=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Gr=(s,e)=>ft(void 0,void 0,void 0,function*(){const t=yield Vr();s instanceof t?s.json().then(i=>{e(new zr(Zt(i),s.status||500))}).catch(i=>{e(new Fi(Zt(i),i))}):e(new Fi(Zt(s),s))}),Jr=(s,e,t,i)=>{const r={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),t))};function Vt(s,e,t,i,r,n){return ft(this,void 0,void 0,function*(){return new Promise((o,a)=>{s(t,Jr(e,i,r,n)).then(l=>{if(!l.ok)throw l;return i!=null&&i.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Gr(l,a))})})}function ri(s,e,t,i){return ft(this,void 0,void 0,function*(){return Vt(s,"GET",e,t,i)})}function De(s,e,t,i,r){return ft(this,void 0,void 0,function*(){return Vt(s,"POST",e,i,r,t)})}function Kr(s,e,t,i,r){return ft(this,void 0,void 0,function*(){return Vt(s,"PUT",e,i,r,t)})}function Js(s,e,t,i,r){return ft(this,void 0,void 0,function*(){return Vt(s,"DELETE",e,i,r,t)})}var ve=globalThis&&globalThis.__awaiter||function(s,e,t,i){function r(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):r(u.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const Wr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Yr{constructor(e,t={},i,r){this.url=e,this.headers=t,this.bucketId=i,this.fetch=Gs(r)}uploadOrUpdate(e,t,i,r){return ve(this,void 0,void 0,function*(){try{let n;const o=Object.assign(Object.assign({},Bi),r),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&i instanceof Blob?(n=new FormData,n.append("cacheControl",o.cacheControl),n.append("",i)):typeof FormData<"u"&&i instanceof FormData?(n=i,n.append("cacheControl",o.cacheControl)):(n=i,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:n,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return u.ok?{data:{path:l},error:null}:{data:null,error:yield u.json()}}catch(n){if(re(n))return{data:null,error:n};throw n}})}upload(e,t,i){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,r){return ve(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),o=this._getFinalPath(n),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:Bi.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl)):(l=i,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u});return h.ok?{data:{path:n},error:null}:{data:null,error:yield h.json()}}catch(l){if(re(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return ve(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e);const i=yield De(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),r=new URL(this.url+i.url),n=r.searchParams.get("token");if(!n)throw new bi("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:n},error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}})}update(e,t,i){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t){return ve(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}copy(e,t){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield De(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,i){return ve(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),n=yield De(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${o}`)},{data:n,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,i){return ve(this,void 0,void 0,function*(){try{const r=yield De(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),n=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${n}`):null})),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}download(e,t){return ve(this,void 0,void 0,function*(){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=n?`?${n}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ri(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(re(a))return{data:null,error:a};throw a}})}getPublicUrl(e,t){const i=this._getFinalPath(e),r=[],n=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";n!==""&&r.push(n);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${i}${c}`)}}}remove(e){return ve(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}})}list(e,t,i){return ve(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Wr),t),{prefix:e||""});return{data:yield De(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Xr="2.5.4",Qr={"X-Client-Info":`storage-js/${Xr}`};var et=globalThis&&globalThis.__awaiter||function(s,e,t,i){function r(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):r(u.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};class Zr{constructor(e,t={},i){this.url=e,this.headers=Object.assign(Object.assign({},Qr),t),this.fetch=Gs(i)}listBuckets(){return et(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}})}getBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return et(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return et(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}emptyBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}})}deleteBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}})}}class $r extends Zr{constructor(e,t={},i){super(e,t,i)}from(e){return new Yr(this.url,this.headers,e,this.fetch)}}const eo="2.38.5";let _t="";typeof Deno<"u"?_t="deno":typeof document<"u"?_t="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_t="react-native":_t="node";const to={"X-Client-Info":`supabase-js-${_t}/${eo}`};var io=globalThis&&globalThis.__awaiter||function(s,e,t,i){function r(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):r(u.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const so=s=>{let e;return s?e=s:typeof fetch>"u"?e=gi:e=fetch,(...t)=>e(...t)},no=()=>typeof Headers>"u"?Ms:Headers,ro=(s,e,t)=>{const i=so(t),r=no();return(n,o)=>io(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:s;let c=new r(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",s),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),i(n,Object.assign(Object.assign({},o),{headers:c}))})};function oo(s){return s.replace(/\/$/,"")}function ao(s,e){const{db:t,auth:i,realtime:r,global:n}=s,{db:o,auth:a,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},c),n)}}function lo(s){return Math.round(Date.now()/1e3)+s}function co(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const Te=()=>typeof document<"u",He={tested:!1,writable:!1},yt=()=>{if(!Te())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(He.tested)return He.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),He.tested=!0,He.writable=!0}catch{He.tested=!0,He.writable=!1}return He.writable};function $t(s){const e={},t=new URL(s);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,n)=>{e[n]=r})}catch{}return t.searchParams.forEach((i,r)=>{e[r]=i}),e}const Ks=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Et(()=>Promise.resolve().then(()=>Tt),void 0,import.meta.url).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},uo=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",ze=async(s,e,t)=>{await s.setItem(e,JSON.stringify(t))},Pt=async(s,e)=>{const t=await s.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ei=async(s,e)=>{await s.removeItem(e)};function ho(s){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",i,r,n,o,a,l,c,u=0;for(s=s.replace("-","+").replace("_","/");u<s.length;)o=e.indexOf(s.charAt(u++)),a=e.indexOf(s.charAt(u++)),l=e.indexOf(s.charAt(u++)),c=e.indexOf(s.charAt(u++)),i=o<<2|a>>4,r=(a&15)<<4|l>>2,n=(l&3)<<6|c,t=t+String.fromCharCode(i),l!=64&&r!=0&&(t=t+String.fromCharCode(r)),c!=64&&n!=0&&(t=t+String.fromCharCode(n));return t}class Gt{constructor(){this.promise=new Gt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Gt.promiseConstructor=Promise;function Mi(s){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=s.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const i=t[1];return JSON.parse(ho(i))}async function fo(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function go(s,e){return new Promise((i,r)=>{(async()=>{for(let n=0;n<1/0;n++)try{const o=await s(n);if(!e(n,null,o)){i(o);return}}catch(o){if(!e(n,o)){r(o);return}}})()})}function mo(s){return("0"+s.toString(16)).substr(-2)}function tt(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let r="";for(let n=0;n<56;n++)r+=t.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,mo).join("")}async function _o(s){const t=new TextEncoder().encode(s),i=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(i);return Array.from(r).map(n=>String.fromCharCode(n)).join("")}function bo(s){return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function it(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const t=await _o(s);return bo(t)}class pi extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function M(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class po extends pi{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function vo(s){return M(s)&&s.name==="AuthApiError"}class Ws extends pi{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class gt extends pi{constructor(e,t,i){super(e),this.name=t,this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class st extends gt{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class ti extends gt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class jt extends gt{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class It extends gt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hi extends gt{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oi extends gt{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}function zi(s){return M(s)&&s.name==="AuthRetryableFetchError"}var yo=globalThis&&globalThis.__rest||function(s,e){var t={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(s);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(s,i[r])&&(t[i[r]]=s[i[r]]);return t};const bt=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),wo=[502,503,504];async function qi(s){if(!uo(s))throw new oi(bt(s),0);if(wo.includes(s.status))throw new oi(bt(s),s.status);let e;try{e=await s.json()}catch(t){throw new Ws(bt(t),t)}throw new po(bt(e),s.status||500)}const ko=(s,e,t,i)=>{const r={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),t))};async function H(s,e,t,i){var r;const n=Object.assign({},i==null?void 0:i.headers);i!=null&&i.jwt&&(n.Authorization=`Bearer ${i.jwt}`);const o=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await So(s,e,t+a,{headers:n,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(l):{data:Object.assign({},l),error:null}}async function So(s,e,t,i,r,n){const o=ko(e,i,r,n);let a;try{a=await s(t,o)}catch(l){throw console.error(l),new oi(bt(l),0)}if(a.ok||await qi(a),i!=null&&i.noResolveJson)return a;try{return await a.json()}catch(l){await qi(l)}}function Ae(s){var e;let t=null;Co(s)&&(t=Object.assign({},s),s.expires_at||(t.expires_at=lo(s.expires_in)));const i=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:t,user:i},error:null}}function xe(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function Eo(s){return{data:s,error:null}}function To(s){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:n}=s,o=yo(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:n},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Oo(s){return s}function Co(s){return s.access_token&&s.refresh_token&&s.expires_in}var Ro=globalThis&&globalThis.__rest||function(s,e){var t={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(s);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(s,i[r])&&(t[i[r]]=s[i[r]]);return t};class Ao{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=Ks(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(M(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:xe})}catch(i){if(M(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=Ro(e,["options"]),r=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:To,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(M(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xe})}catch(t){if(M(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,r,n,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(n=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""},xform:Oo});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const _=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=_}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(M(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xe})}catch(t){if(M(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:xe})}catch(i){if(M(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:xe})}catch(i){if(M(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){try{const{data:t,error:i}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:i}}catch(t){if(M(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(M(t))return{data:null,error:t};throw t}}}const Ys="2.57.0",Po="http://localhost:9999",jo="supabase.auth.token",Io={"X-Client-Info":`gotrue-js/${Ys}`},Vi=10,Lo={getItem:s=>yt()?globalThis.localStorage.getItem(s):null,setItem:(s,e)=>{yt()&&globalThis.localStorage.setItem(s,e)},removeItem:s=>{yt()&&globalThis.localStorage.removeItem(s)}};function Gi(s={}){return{getItem:e=>s[e]||null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]}}}function Do(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}globalThis&&yt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class xo extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}Do();const Uo={url:Po,storageKey:jo,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Io,flowType:"implicit",debug:!1},mt=30*1e3,Ji=3;async function No(s,e,t){return await t()}class kt{constructor(e){var t;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kt.nextInstanceID,kt.nextInstanceID+=1,this.instanceID>0&&Te()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Uo),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ao({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ks(i.fetch),this.lock=i.lock||No,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:yt()?this.storage=Lo:(this.memoryStorage={},this.storage=Gi(this.memoryStorage)):(this.memoryStorage={},this.storage=Gi(this.memoryStorage)),Te()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(t=this.broadcastChannel)===null||t===void 0||t.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ys}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Te()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:i}=await this._getSessionFromURL(e);if(i)return this._debug("#_initialize()","error detecting session from URL",i),await this._removeSession(),{error:i};const{session:r,redirectType:n}=t;return this._debug("#_initialize()","detected session in URL",r,"redirect type",n),await this._saveSession(r),setTimeout(async()=>{n==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return M(e)?{error:e}:{error:new Ws("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var t,i,r;try{await this._removeSession();let n;if("email"in e){const{email:u,password:h,options:d}=e;let f=null,m=null;if(this.flowType==="pkce"){const _=tt();await ze(this.storage,`${this.storageKey}-code-verifier`,_),f=await it(_),m=_===f?"plain":"s256"}n=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:h,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:m},xform:Ae})}else if("phone"in e){const{phone:u,password:h,options:d}=e;n=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},channel:(r=d==null?void 0:d.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ae})}else throw new jt("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(e){try{await this._removeSession();let t;if("email"in e){const{email:n,password:o,options:a}=e;t=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ae})}else if("phone"in e){const{phone:n,password:o,options:a}=e;t=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ae})}else throw new jt("You must provide either an email or phone number and a password");const{data:i,error:r}=t;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ti}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:{user:i.user,session:i.session},error:r})}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,r,n;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(n=e.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Pt(this.storage,`${this.storageKey}-code-verifier`),{data:i,error:r}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:Ae});return await ei(this.storage,`${this.storageKey}-code-verifier`),r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ti}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:r})}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:i,token:r,access_token:n,nonce:o}=e,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:n,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Ae}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ti}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,r,n,o;try{if(await this._removeSession(),"email"in e){const{email:a,options:l}=e;let c=null,u=null;if(this.flowType==="pkce"){const d=tt();await ze(this.storage,`${this.storageKey}-code-verifier`,d),c=await it(d),u=d===c?"plain":"s256"}const{error:h}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new jt("You must provide either an email or phone number.")}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,i;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let r,n;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,n=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:r,xform:Ae});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,i,r;try{await this._removeSession();let n=null,o=null;if(this.flowType==="pkce"){const a=tt();await ze(this.storage,`${this.storageKey}-code-verifier`,a),n=await it(a),o=a===n?"plain":"s256"}return await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:o}),headers:this.headers,xform:Eo})}catch(n){if(M(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new st;const{error:r}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:n}=e,{error:o}=await H(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},redirectTo:n==null?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:i,type:r,options:n}=e,{data:o,error:a}=await H(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new jt("You must provide either an email or phone number and a type")}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Pt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i)return{data:{session:e},error:null};const{session:r,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xe}):await this._useSession(async t=>{var i,r;const{data:n,error:o}=t;if(o)throw o;return await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=n.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:xe})})}catch(t){if(M(t))return{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:r,error:n}=i;if(n)throw n;if(!r.session)throw new st;const o=r.session;let a=null,l=null;if(this.flowType==="pkce"&&e.email!=null){const h=tt();await ze(this.storage,`${this.storageKey}-code-verifier`,h),a=await it(h),l=h===a?"plain":"s256"}const{data:c,error:u}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:xe});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if(M(i))return{data:{user:null},error:i};throw i}}_decodeJWT(e){return Mi(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new st;const t=Date.now()/1e3;let i=t,r=!0,n=null;const o=Mi(e.access_token);if(o.exp&&(i=o.exp,r=i<=t),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};n=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;n={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(t){if(M(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new st;const{session:r,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{user:null,session:null},error:n}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!Te())throw new It("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new It("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Hi("Not a valid PKCE flow url.");const t=$t(window.location.href);if(e){if(!t.code)throw new Hi("No code detected.");const{data:v,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:v.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new It(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:i,provider_refresh_token:r,access_token:n,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!n||!a||!o||!c)throw new It("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=mt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const m=d-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",m,d,u);const{data:_,error:g}=await this._getUser(n);if(g)throw g;const b={provider_token:i,provider_refresh_token:r,access_token:n,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(t){if(M(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=$t(window.location.href);return!!(Te()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=$t(window.location.href),t=await Pt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:r,error:n}=t;if(n)return{error:n};const o=(i=r.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(vo(a)&&(a.status===404||a.status===401)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ei(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const t=co(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,r;try{const{data:{session:n},error:o}=t;if(o)throw o;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(n){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e,t={}){let i=null,r=null;if(this.flowType==="pkce"){const n=tt();await ze(this.storage,`${this.storageKey}-code-verifier`,n),i=await it(n),r=n===i?"plain":"s256"}try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await go(async r=>(await fo(r*200),this._debug(t,"refreshing attempt",r),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ae})),(r,n,o)=>o&&o.error&&zi(o.error)&&Date.now()+(r+1)*200-i<mt)}catch(i){if(this._debug(t,"error",i),M(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),Te()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const i=await Pt(this.storage,this.storageKey);if(this._debug(t,"session from storage",i),!this._isValidSession(i)){this._debug(t,"session is not valid"),i!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),n=((e=i.expires_at)!==null&&e!==void 0?e:1/0)<r+Vi;if(this._debug(t,`session has${n?"":" not"} expired with margin of ${Vi}s`),n){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),zi(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(t,"error",i),console.error(i);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new st;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Gt;const{data:n,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!n.session)throw new st;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const a={session:n.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(n){if(this._debug(r,"error",n),M(n)){const o={session:null,error:n};return(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(n),n}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){n.push(l)}});if(await Promise.all(o),n.length>0){for(let a=0;a<n.length;a+=1)console.error(n[a]);throw n[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await this._persistSession(e)}_persistSession(e){return this._debug("#_persistSession()",e),ze(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ei(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Te()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/mt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${mt}ms, refresh threshold is ${Ji} ticks`),r<=Ji&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xo)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Te()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t){const i=[`provider=${encodeURIComponent(e)}`];if(t!=null&&t.redirectTo&&i.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&i.push(`scopes=${encodeURIComponent(t.scopes)}`),this.flowType==="pkce"){const r=tt();await ze(this.storage,`${this.storageKey}-code-verifier`,r);const n=await it(r),o=r===n?"plain":"s256";this._debug("PKCE","code verifier",`${r.substring(0,5)}...`,"code challenge",n,"method",o);const a=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(t!=null&&t.queryParams){const r=new URLSearchParams(t.queryParams);i.push(r.toString())}return`${this.url}/authorize?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:r,error:n}=t;return n?{data:null,error:n}:await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(M(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,r;const{data:n,error:o}=t;if(o)return{data:null,error:o};const{data:a,error:l}=await H(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(!((r=a==null?void 0:a.totp)===null||r===void 0)&&r.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(t){if(M(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:r,error:n}=t;if(n)return{data:null,error:n};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(M(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:r,error:n}=t;return n?{data:null,error:n}:await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(M(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const i=(e==null?void 0:e.factors)||[],r=i.filter(n=>n.factor_type==="totp"&&n.status==="verified");return{data:{all:i,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;const{data:{session:r},error:n}=e;if(n)return{data:null,error:n};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((i=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}kt.nextInstanceID=0;class Fo extends kt{constructor(e){super(e)}}var Bo=globalThis&&globalThis.__awaiter||function(s,e,t,i){function r(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):r(u.value).then(a,l)}c((i=i.apply(s,e||[])).next())})};const Mo={headers:to},Ho={schema:"public"},zo={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qo={};class Vo{constructor(e,t,i){var r,n,o,a,l,c,u,h;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const d=oo(e);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:Ho,realtime:qo,auth:Object.assign(Object.assign({},zo),{storageKey:f}),global:Mo},_=ao(i??{},m);this.storageKey=(n=(r=_.auth)===null||r===void 0?void 0:r.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=(o=_.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=_.auth)!==null&&l!==void 0?l:{},this.headers,(c=_.global)===null||c===void 0?void 0:c.fetch),this.fetch=ro(t,this._getAccessToken.bind(this),(u=_.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},_.realtime)),this.rest=new mi(`${d}/rest/v1`,{headers:this.headers,schema:(h=_.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Qn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $r(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Bo(this,void 0,void 0,function*(){const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,storageKey:n,flowType:o,debug:a},l,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fo({url:this.authUrl,headers:Object.assign(Object.assign({},u),l),storageKey:n,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,flowType:o,debug:a,fetch:c})}_initRealtimeClient(e){return new Hr(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.realtime.setAuth(i??null),this.changedAccessToken=i):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ki=(s,e,t)=>new Vo(s,e,t);function W(s){return s!=null&&typeof s=="object"&&s["@@functional/placeholder"]===!0}function Ke(s){return function e(t){return arguments.length===0||W(t)?e:s.apply(this,arguments)}}function Ve(s){return function e(t,i){switch(arguments.length){case 0:return e;case 1:return W(t)?e:Ke(function(r){return s(t,r)});default:return W(t)&&W(i)?e:W(t)?Ke(function(r){return s(r,i)}):W(i)?Ke(function(r){return s(t,r)}):s(t,i)}}}function Xs(s){return function e(t,i,r){switch(arguments.length){case 0:return e;case 1:return W(t)?e:Ve(function(n,o){return s(t,n,o)});case 2:return W(t)&&W(i)?e:W(t)?Ve(function(n,o){return s(n,i,o)}):W(i)?Ve(function(n,o){return s(t,n,o)}):Ke(function(n){return s(t,i,n)});default:return W(t)&&W(i)&&W(r)?e:W(t)&&W(i)?Ve(function(n,o){return s(n,o,r)}):W(t)&&W(r)?Ve(function(n,o){return s(n,i,o)}):W(i)&&W(r)?Ve(function(n,o){return s(t,n,o)}):W(t)?Ke(function(n){return s(n,i,r)}):W(i)?Ke(function(n){return s(t,n,r)}):W(r)?Ke(function(n){return s(t,i,n)}):s(t,i,r)}}}function Lt(s,e){return Object.prototype.hasOwnProperty.call(e,s)}function Wi(s){return Object.prototype.toString.call(s)==="[object Object]"}var Go=Xs(function(e,t,i){var r={},n;t=t||{},i=i||{};for(n in t)Lt(n,t)&&(r[n]=Lt(n,i)?e(n,t[n],i[n]):t[n]);for(n in i)Lt(n,i)&&!Lt(n,r)&&(r[n]=i[n]);return r});const Jo=Go;var Ko=Xs(function s(e,t,i){return Jo(function(r,n,o){return Wi(n)&&Wi(o)?s(e,n,o):e(r,n,o)},t,i)});const Wo=Ko;var Yo=Ve(function(e,t){return Wo(function(i,r,n){return n},e,t)});const Xo=Yo;/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var ai=Zo,Yi=$o,Qo=Object.prototype.toString,Dt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Zo(s,e){if(typeof s!="string")throw new TypeError("argument str must be a string");for(var t={},i=e||{},r=i.decode||ea,n=0;n<s.length;){var o=s.indexOf("=",n);if(o===-1)break;var a=s.indexOf(";",n);if(a===-1)a=s.length;else if(a<o){n=s.lastIndexOf(";",o-1)+1;continue}var l=s.slice(n,o).trim();if(t[l]===void 0){var c=s.slice(o+1,a).trim();c.charCodeAt(0)===34&&(c=c.slice(1,-1)),t[l]=sa(c,r)}n=a+1}return t}function $o(s,e,t){var i=t||{},r=i.encode||ta;if(typeof r!="function")throw new TypeError("option encode is invalid");if(!Dt.test(s))throw new TypeError("argument name is invalid");var n=r(e);if(n&&!Dt.test(n))throw new TypeError("argument val is invalid");var o=s+"="+n;if(i.maxAge!=null){var a=i.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(i.domain){if(!Dt.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain="+i.domain}if(i.path){if(!Dt.test(i.path))throw new TypeError("option path is invalid");o+="; Path="+i.path}if(i.expires){var l=i.expires;if(!ia(l)||isNaN(l.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+l.toUTCString()}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.priority){var c=typeof i.priority=="string"?i.priority.toLowerCase():i.priority;switch(c){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(i.sameSite){var u=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(u){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}function ea(s){return s.indexOf("%")!==-1?decodeURIComponent(s):s}function ta(s){return encodeURIComponent(s)}function ia(s){return Qo.call(s)==="[object Date]"||s instanceof Date}function sa(s,e){try{return e(s)}catch{return s}}function Pe(){return typeof window<"u"&&typeof window.document<"u"}var nt={path:"/",sameSite:"lax",httpOnly:!1,maxAge:60*60*24*365*1e3};function Qs(s){return new RegExp(".{1,"+s+"}","g")}var Zs=3180,na=Qs(Zs);function ra(s,e,t){const i=t!==void 0?Qs(t):na;if(Math.ceil(e.length/(t??Zs))===1)return[{name:s,value:e}];const n=[],o=e.match(i);return o==null||o.forEach((a,l)=>{const c=`${s}.${l}`;n.push({name:c,value:a})}),n}async function $s(s,e){const t=await e(s);if(t)return t;let i=[];for(let r=0;;r++){const n=`${s}.${r}`,o=await e(n);if(!o)break;i.push(o)}if(i.length>0)return i.join("")}async function oa(s,e,t){if(await e(s)){await t(s);return}for(let r=0;;r++){const n=`${s}.${r}`;if(!await e(n))break;await t(n)}}var ii;function aa(s,e,t){if(!s||!e)throw new Error(`Your project's URL and Key are required to create a Supabase client!

Check your Supabase project's API settings to find these values

https://supabase.com/dashboard/project/_/settings/api`);let i={},r=!0,n,o;t&&({cookies:i,isSingleton:r=!0,cookieOptions:n,...o}=t);const a={global:{headers:{"X-Client-Info":"supabase-ssr/0.0.10"}},auth:{flowType:"pkce",autoRefreshToken:Pe(),detectSessionInUrl:Pe(),persistSession:!0,storage:{getItem:async c=>await $s(c,async h=>{if(typeof i.get=="function")return await i.get(h);if(Pe())return ai(document.cookie)[h]}),setItem:async(c,u)=>{const h=await ra(c,u);await Promise.all(h.map(async d=>{typeof i.set=="function"?await i.set(d.name,d.value,{...nt,...n,maxAge:nt.maxAge}):Pe()&&(document.cookie=Yi(d.name,d.value,{...nt,...n,maxAge:nt.maxAge}))}))},removeItem:async c=>{if(typeof i.remove=="function"&&typeof i.get!="function"){console.log("Removing chunked cookie without a `get` method is not supported.\n\n	When you call the `createBrowserClient` function from the `@supabase/ssr` package, make sure you declare both a `get` and `remove` method on the `cookies` object.\n\nhttps://supabase.com/docs/guides/auth/server-side/creating-a-client");return}await oa(c,async u=>{if(typeof i.get=="function")return await i.get(u);if(Pe())return ai(document.cookie)[u]},async u=>{typeof i.remove=="function"?await i.remove(u,{...nt,...n,maxAge:0}):Pe()&&(document.cookie=Yi(u,"",{...nt,...n,maxAge:0}))})}}}},l=Xo(a,o);if(r){const c=Pe();if(c&&ii)return ii;const u=Ki(s,e,l);return c&&(ii=u),u}return Ki(s,e,l)}const la=async({fetch:s,data:e,depends:t,url:i})=>{t("supabase:auth");const r=aa(Vn,Gn,{global:{fetch:s},cookies:{get(o){return Pe()?$s(o,l=>ai(document.cookie)[l]):JSON.stringify(e.session)}}}),{data:{session:n}}=await r.auth.getSession();return{supabase:r,session:n,url:i.pathname}},zc=Object.freeze(Object.defineProperty({__proto__:null,load:la},Symbol.toStringTag,{value:"Module"}));const ca=qt(void 0),en="drawerStore";function Jt(){const s=qe(en);if(!s)throw new Error("drawerStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return s}function ua(){const s=ha();return je(en,s)}function ha(){const{subscribe:s,set:e,update:t}=qt({});return{subscribe:s,set:e,update:t,open:i=>t(()=>({open:!0,...i})),close:()=>t(i=>(i.open=!1,i))}}const da="modalStore";function fa(){const s=ga();return je(da,s)}function ga(){const{subscribe:s,set:e,update:t}=qt([]);return{subscribe:s,set:e,update:t,trigger:i=>t(r=>(r.push(i),r)),close:()=>t(i=>(i.length>0&&i.shift(),i)),clear:()=>e([])}}function ma(){fa(),Rn(),ua()}function _a(s,e){const t='a[href]:not([tabindex="-1"]), button:not([tabindex="-1"]), input:not([tabindex="-1"]), textarea:not([tabindex="-1"]), select:not([tabindex="-1"]), details:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"])';let i,r;function n(h){h.shiftKey&&h.code==="Tab"&&(h.preventDefault(),r.focus())}function o(h){!h.shiftKey&&h.code==="Tab"&&(h.preventDefault(),i.focus())}const a=h=>{if(e===!1)return;const d=Array.from(s.querySelectorAll(t));d.length&&(i=d[0],r=d[d.length-1],h||i.focus(),i.addEventListener("keydown",n),r.addEventListener("keydown",o))};a(!1);function l(){i&&i.removeEventListener("keydown",n),r&&r.removeEventListener("keydown",o)}const c=(h,d)=>(h.length&&(l(),a(!0)),d),u=new MutationObserver(c);return u.observe(s,{childList:!0,subtree:!0}),{update(h){e=h,h?a(!1):l()},destroy(){l(),u.disconnect()}}}function ot(s,e){const{transition:t,params:i,enabled:r}=e;return r?t(s,i):"duration"in i?t(s,{duration:0}):{duration:0}}const ba=s=>({}),Xi=s=>({}),pa=s=>({}),Qi=s=>({}),va=s=>({}),Zi=s=>({});function $i(s){let e,t,i;const r=s[22].lead,n=ee(r,s,s[21],Zi);return{c(){e=U("div"),n&&n.c(),this.h()},l(o){e=N(o,"DIV",{class:!0});var a=F(e);n&&n.l(a),a.forEach(y),this.h()},h(){p(e,"class",t="app-bar-slot-lead "+s[4])},m(o,a){B(o,e,a),n&&n.m(e,null),i=!0},p(o,a){n&&n.p&&(!i||a&2097152)&&te(n,r,o,o[21],i?se(r,o[21],a,va):ie(o[21]),Zi),(!i||a&16&&t!==(t="app-bar-slot-lead "+o[4]))&&p(e,"class",t)},i(o){i||(C(n,o),i=!0)},o(o){j(n,o),i=!1},d(o){o&&y(e),n&&n.d(o)}}}function es(s){let e,t,i;const r=s[22].trail,n=ee(r,s,s[21],Qi);return{c(){e=U("div"),n&&n.c(),this.h()},l(o){e=N(o,"DIV",{class:!0});var a=F(e);n&&n.l(a),a.forEach(y),this.h()},h(){p(e,"class",t="app-bar-slot-trail "+s[2])},m(o,a){B(o,e,a),n&&n.m(e,null),i=!0},p(o,a){n&&n.p&&(!i||a&2097152)&&te(n,r,o,o[21],i?se(r,o[21],a,pa):ie(o[21]),Qi),(!i||a&4&&t!==(t="app-bar-slot-trail "+o[2]))&&p(e,"class",t)},i(o){i||(C(n,o),i=!0)},o(o){j(n,o),i=!1},d(o){o&&y(e),n&&n.d(o)}}}function ts(s){let e,t,i;const r=s[22].headline,n=ee(r,s,s[21],Xi);return{c(){e=U("div"),n&&n.c(),this.h()},l(o){e=N(o,"DIV",{class:!0});var a=F(e);n&&n.l(a),a.forEach(y),this.h()},h(){p(e,"class",t="app-bar-row-headline "+s[5])},m(o,a){B(o,e,a),n&&n.m(e,null),i=!0},p(o,a){n&&n.p&&(!i||a&2097152)&&te(n,r,o,o[21],i?se(r,o[21],a,ba):ie(o[21]),Xi),(!i||a&32&&t!==(t="app-bar-row-headline "+o[5]))&&p(e,"class",t)},i(o){i||(C(n,o),i=!0)},o(o){j(n,o),i=!1},d(o){o&&y(e),n&&n.d(o)}}}function ya(s){let e,t,i,r,n,o,a,l,c,u,h=s[8].lead&&$i(s);const d=s[22].default,f=ee(d,s,s[21],null);let m=s[8].trail&&es(s),_=s[8].headline&&ts(s);return{c(){e=U("div"),t=U("div"),h&&h.c(),i=q(),r=U("div"),f&&f.c(),o=q(),m&&m.c(),l=q(),_&&_.c(),this.h()},l(g){e=N(g,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-labelledby":!0});var b=F(e);t=N(b,"DIV",{class:!0});var v=F(t);h&&h.l(v),i=V(v),r=N(v,"DIV",{class:!0});var E=F(r);f&&f.l(E),E.forEach(y),o=V(v),m&&m.l(v),v.forEach(y),l=V(b),_&&_.l(b),b.forEach(y),this.h()},h(){p(r,"class",n="app-bar-slot-default "+s[3]),p(t,"class",a="app-bar-row-main "+s[6]),p(e,"class",c="app-bar "+s[7]),p(e,"data-testid","app-bar"),p(e,"role","toolbar"),p(e,"aria-label",s[0]),p(e,"aria-labelledby",s[1])},m(g,b){B(g,e,b),x(e,t),h&&h.m(t,null),x(t,i),x(t,r),f&&f.m(r,null),x(t,o),m&&m.m(t,null),x(e,l),_&&_.m(e,null),u=!0},p(g,[b]){g[8].lead?h?(h.p(g,b),b&256&&C(h,1)):(h=$i(g),h.c(),C(h,1),h.m(t,i)):h&&(oe(),j(h,1,1,()=>{h=null}),ae()),f&&f.p&&(!u||b&2097152)&&te(f,d,g,g[21],u?se(d,g[21],b,null):ie(g[21]),null),(!u||b&8&&n!==(n="app-bar-slot-default "+g[3]))&&p(r,"class",n),g[8].trail?m?(m.p(g,b),b&256&&C(m,1)):(m=es(g),m.c(),C(m,1),m.m(t,null)):m&&(oe(),j(m,1,1,()=>{m=null}),ae()),(!u||b&64&&a!==(a="app-bar-row-main "+g[6]))&&p(t,"class",a),g[8].headline?_?(_.p(g,b),b&256&&C(_,1)):(_=ts(g),_.c(),C(_,1),_.m(e,null)):_&&(oe(),j(_,1,1,()=>{_=null}),ae()),(!u||b&128&&c!==(c="app-bar "+g[7]))&&p(e,"class",c),(!u||b&1)&&p(e,"aria-label",g[0]),(!u||b&2)&&p(e,"aria-labelledby",g[1])},i(g){u||(C(h),C(f,g),C(m),C(_),u=!0)},o(g){j(h),j(f,g),j(m),j(_),u=!1},d(g){g&&y(e),h&&h.d(),f&&f.d(g),m&&m.d(),_&&_.d()}}}const wa="flex flex-col",ka="grid items-center",Sa="",Ea="flex-none flex justify-between items-center",Ta="flex-auto",Oa="flex-none flex items-center space-x-4";function Ca(s,e,t){let i,r,n,o,a,l,{$$slots:c={},$$scope:u}=e;const h=zt(c);let{background:d="bg-surface-100-800-token"}=e,{border:f=""}=e,{padding:m="p-4"}=e,{shadow:_=""}=e,{spacing:g="space-y-4"}=e,{gridColumns:b="grid-cols-[auto_1fr_auto]"}=e,{gap:v="gap-4"}=e,{regionRowMain:E=""}=e,{regionRowHeadline:T=""}=e,{slotLead:S=""}=e,{slotDefault:R=""}=e,{slotTrail:L=""}=e,{label:k=""}=e,{labelledby:w=""}=e;return s.$$set=I=>{t(23,e=le(le({},e),fe(I))),"background"in I&&t(9,d=I.background),"border"in I&&t(10,f=I.border),"padding"in I&&t(11,m=I.padding),"shadow"in I&&t(12,_=I.shadow),"spacing"in I&&t(13,g=I.spacing),"gridColumns"in I&&t(14,b=I.gridColumns),"gap"in I&&t(15,v=I.gap),"regionRowMain"in I&&t(16,E=I.regionRowMain),"regionRowHeadline"in I&&t(17,T=I.regionRowHeadline),"slotLead"in I&&t(18,S=I.slotLead),"slotDefault"in I&&t(19,R=I.slotDefault),"slotTrail"in I&&t(20,L=I.slotTrail),"label"in I&&t(0,k=I.label),"labelledby"in I&&t(1,w=I.labelledby),"$$scope"in I&&t(21,u=I.$$scope)},s.$$.update=()=>{t(7,i=`${wa} ${d} ${f} ${g} ${m} ${_} ${e.class??""}`),s.$$.dirty&114688&&t(6,r=`${ka} ${b} ${v} ${E}`),s.$$.dirty&131072&&t(5,n=`${Sa} ${T}`),s.$$.dirty&262144&&t(4,o=`${Ea} ${S}`),s.$$.dirty&524288&&t(3,a=`${Ta} ${R}`),s.$$.dirty&1048576&&t(2,l=`${Oa} ${L}`)},e=fe(e),[k,w,l,a,o,n,r,i,h,d,f,m,_,g,b,v,E,T,S,R,L,u,c]}class Ra extends be{constructor(e){super(),pe(this,e,Ca,ya,ge,{background:9,border:10,padding:11,shadow:12,spacing:13,gridColumns:14,gap:15,regionRowMain:16,regionRowHeadline:17,slotLead:18,slotDefault:19,slotTrail:20,label:0,labelledby:1})}}const Aa=s=>({}),is=s=>({}),Pa=s=>({}),ss=s=>({}),ja=s=>({}),ns=s=>({}),Ia=s=>({}),rs=s=>({}),La=s=>({}),os=s=>({}),Da=s=>({}),as=s=>({});function ls(s){let e,t,i;const r=s[19].header,n=ee(r,s,s[18],as);return{c(){e=U("header"),n&&n.c(),this.h()},l(o){e=N(o,"HEADER",{id:!0,class:!0});var a=F(e);n&&n.l(a),a.forEach(y),this.h()},h(){p(e,"id","shell-header"),p(e,"class",t="flex-none "+s[8])},m(o,a){B(o,e,a),n&&n.m(e,null),i=!0},p(o,a){n&&n.p&&(!i||a&262144)&&te(n,r,o,o[18],i?se(r,o[18],a,Da):ie(o[18]),as),(!i||a&256&&t!==(t="flex-none "+o[8]))&&p(e,"class",t)},i(o){i||(C(n,o),i=!0)},o(o){j(n,o),i=!1},d(o){o&&y(e),n&&n.d(o)}}}function cs(s){let e,t;const i=s[19].sidebarLeft,r=ee(i,s,s[18],os);return{c(){e=U("aside"),r&&r.c(),this.h()},l(n){e=N(n,"ASIDE",{id:!0,class:!0});var o=F(e);r&&r.l(o),o.forEach(y),this.h()},h(){p(e,"id","sidebar-left"),p(e,"class",s[7])},m(n,o){B(n,e,o),r&&r.m(e,null),t=!0},p(n,o){r&&r.p&&(!t||o&262144)&&te(r,i,n,n[18],t?se(i,n[18],o,La):ie(n[18]),os),(!t||o&128)&&p(e,"class",n[7])},i(n){t||(C(r,n),t=!0)},o(n){j(r,n),t=!1},d(n){n&&y(e),r&&r.d(n)}}}function us(s){let e,t,i;const r=s[19].pageHeader,n=ee(r,s,s[18],rs),o=n||xa();return{c(){e=U("header"),o&&o.c(),this.h()},l(a){e=N(a,"HEADER",{id:!0,class:!0});var l=F(e);o&&o.l(l),l.forEach(y),this.h()},h(){p(e,"id","page-header"),p(e,"class",t="flex-none "+s[5])},m(a,l){B(a,e,l),o&&o.m(e,null),i=!0},p(a,l){n&&n.p&&(!i||l&262144)&&te(n,r,a,a[18],i?se(r,a[18],l,Ia):ie(a[18]),rs),(!i||l&32&&t!==(t="flex-none "+a[5]))&&p(e,"class",t)},i(a){i||(C(o,a),i=!0)},o(a){j(o,a),i=!1},d(a){a&&y(e),o&&o.d(a)}}}function xa(s){let e;return{c(){e=Ze("(slot:header)")},l(t){e=$e(t,"(slot:header)")},m(t,i){B(t,e,i)},d(t){t&&y(e)}}}function hs(s){let e,t,i;const r=s[19].pageFooter,n=ee(r,s,s[18],ns),o=n||Ua();return{c(){e=U("footer"),o&&o.c(),this.h()},l(a){e=N(a,"FOOTER",{id:!0,class:!0});var l=F(e);o&&o.l(l),l.forEach(y),this.h()},h(){p(e,"id","page-footer"),p(e,"class",t="flex-none "+s[3])},m(a,l){B(a,e,l),o&&o.m(e,null),i=!0},p(a,l){n&&n.p&&(!i||l&262144)&&te(n,r,a,a[18],i?se(r,a[18],l,ja):ie(a[18]),ns),(!i||l&8&&t!==(t="flex-none "+a[3]))&&p(e,"class",t)},i(a){i||(C(o,a),i=!0)},o(a){j(o,a),i=!1},d(a){a&&y(e),o&&o.d(a)}}}function Ua(s){let e;return{c(){e=Ze("(slot:footer)")},l(t){e=$e(t,"(slot:footer)")},m(t,i){B(t,e,i)},d(t){t&&y(e)}}}function ds(s){let e,t;const i=s[19].sidebarRight,r=ee(i,s,s[18],ss);return{c(){e=U("aside"),r&&r.c(),this.h()},l(n){e=N(n,"ASIDE",{id:!0,class:!0});var o=F(e);r&&r.l(o),o.forEach(y),this.h()},h(){p(e,"id","sidebar-right"),p(e,"class",s[6])},m(n,o){B(n,e,o),r&&r.m(e,null),t=!0},p(n,o){r&&r.p&&(!t||o&262144)&&te(r,i,n,n[18],t?se(i,n[18],o,Pa):ie(n[18]),ss),(!t||o&64)&&p(e,"class",n[6])},i(n){t||(C(r,n),t=!0)},o(n){j(r,n),t=!1},d(n){n&&y(e),r&&r.d(n)}}}function fs(s){let e,t,i;const r=s[19].footer,n=ee(r,s,s[18],is);return{c(){e=U("footer"),n&&n.c(),this.h()},l(o){e=N(o,"FOOTER",{id:!0,class:!0});var a=F(e);n&&n.l(a),a.forEach(y),this.h()},h(){p(e,"id","shell-footer"),p(e,"class",t="flex-none "+s[2])},m(o,a){B(o,e,a),n&&n.m(e,null),i=!0},p(o,a){n&&n.p&&(!i||a&262144)&&te(n,r,o,o[18],i?se(r,o[18],a,Aa):ie(o[18]),is),(!i||a&4&&t!==(t="flex-none "+o[2]))&&p(e,"class",t)},i(o){i||(C(n,o),i=!0)},o(o){j(n,o),i=!1},d(o){o&&y(e),n&&n.d(o)}}}function Na(s){let e,t,i,r,n,o,a,l,c,u,h,d,f,m,_,g=s[10].header&&ls(s),b=s[10].sidebarLeft&&cs(s),v=s[10].pageHeader&&us(s);const E=s[19].default,T=ee(E,s,s[18],null);let S=s[10].pageFooter&&hs(s),R=s[10].sidebarRight&&ds(s),L=s[10].footer&&fs(s);return{c(){e=U("div"),g&&g.c(),t=q(),i=U("div"),b&&b.c(),r=q(),n=U("div"),v&&v.c(),o=q(),a=U("main"),T&&T.c(),c=q(),S&&S.c(),h=q(),R&&R.c(),d=q(),L&&L.c(),this.h()},l(k){e=N(k,"DIV",{id:!0,class:!0,"data-testid":!0});var w=F(e);g&&g.l(w),t=V(w),i=N(w,"DIV",{class:!0});var I=F(i);b&&b.l(I),r=V(I),n=N(I,"DIV",{id:!0,class:!0});var P=F(n);v&&v.l(P),o=V(P),a=N(P,"MAIN",{id:!0,class:!0});var A=F(a);T&&T.l(A),A.forEach(y),c=V(P),S&&S.l(P),P.forEach(y),h=V(I),R&&R.l(I),I.forEach(y),d=V(w),L&&L.l(w),w.forEach(y),this.h()},h(){p(a,"id","page-content"),p(a,"class",l="flex-auto "+s[4]),p(n,"id","page"),p(n,"class",u=s[1]+" "+gs),Ei(n,"scrollbar-gutter",s[0]),p(i,"class","flex-auto "+Ba),p(e,"id","appShell"),p(e,"class",s[9]),p(e,"data-testid","app-shell")},m(k,w){B(k,e,w),g&&g.m(e,null),x(e,t),x(e,i),b&&b.m(i,null),x(i,r),x(i,n),v&&v.m(n,null),x(n,o),x(n,a),T&&T.m(a,null),x(n,c),S&&S.m(n,null),x(i,h),R&&R.m(i,null),x(e,d),L&&L.m(e,null),f=!0,m||(_=z(n,"scroll",s[20]),m=!0)},p(k,[w]){k[10].header?g?(g.p(k,w),w&1024&&C(g,1)):(g=ls(k),g.c(),C(g,1),g.m(e,t)):g&&(oe(),j(g,1,1,()=>{g=null}),ae()),k[10].sidebarLeft?b?(b.p(k,w),w&1024&&C(b,1)):(b=cs(k),b.c(),C(b,1),b.m(i,r)):b&&(oe(),j(b,1,1,()=>{b=null}),ae()),k[10].pageHeader?v?(v.p(k,w),w&1024&&C(v,1)):(v=us(k),v.c(),C(v,1),v.m(n,o)):v&&(oe(),j(v,1,1,()=>{v=null}),ae()),T&&T.p&&(!f||w&262144)&&te(T,E,k,k[18],f?se(E,k[18],w,null):ie(k[18]),null),(!f||w&16&&l!==(l="flex-auto "+k[4]))&&p(a,"class",l),k[10].pageFooter?S?(S.p(k,w),w&1024&&C(S,1)):(S=hs(k),S.c(),C(S,1),S.m(n,null)):S&&(oe(),j(S,1,1,()=>{S=null}),ae()),(!f||w&2&&u!==(u=k[1]+" "+gs))&&p(n,"class",u),w&1&&Ei(n,"scrollbar-gutter",k[0]),k[10].sidebarRight?R?(R.p(k,w),w&1024&&C(R,1)):(R=ds(k),R.c(),C(R,1),R.m(i,null)):R&&(oe(),j(R,1,1,()=>{R=null}),ae()),k[10].footer?L?(L.p(k,w),w&1024&&C(L,1)):(L=fs(k),L.c(),C(L,1),L.m(e,null)):L&&(oe(),j(L,1,1,()=>{L=null}),ae()),(!f||w&512)&&p(e,"class",k[9])},i(k){f||(C(g),C(b),C(v),C(T,k),C(S),C(R),C(L),f=!0)},o(k){j(g),j(b),j(v),j(T,k),j(S),j(R),j(L),f=!1},d(k){k&&y(e),g&&g.d(),b&&b.d(),v&&v.d(),T&&T.d(k),S&&S.d(),R&&R.d(),L&&L.d(),m=!1,_()}}}const Fa="w-full h-full flex flex-col overflow-hidden",Ba="w-full h-full flex overflow-hidden",gs="flex-1 overflow-x-hidden flex flex-col",Ma="flex-none overflow-x-hidden overflow-y-auto",Ha="flex-none overflow-x-hidden overflow-y-auto";function za(s,e,t){let i,r,n,o,a,l,c,u,{$$slots:h={},$$scope:d}=e;const f=zt(h);let{scrollbarGutter:m="auto"}=e,{regionPage:_=""}=e,{slotHeader:g="z-10"}=e,{slotSidebarLeft:b="w-auto"}=e,{slotSidebarRight:v="w-auto"}=e,{slotPageHeader:E=""}=e,{slotPageContent:T=""}=e,{slotPageFooter:S=""}=e,{slotFooter:R=""}=e;function L(k){X.call(this,s,k)}return s.$$set=k=>{t(21,e=le(le({},e),fe(k))),"scrollbarGutter"in k&&t(0,m=k.scrollbarGutter),"regionPage"in k&&t(1,_=k.regionPage),"slotHeader"in k&&t(11,g=k.slotHeader),"slotSidebarLeft"in k&&t(12,b=k.slotSidebarLeft),"slotSidebarRight"in k&&t(13,v=k.slotSidebarRight),"slotPageHeader"in k&&t(14,E=k.slotPageHeader),"slotPageContent"in k&&t(15,T=k.slotPageContent),"slotPageFooter"in k&&t(16,S=k.slotPageFooter),"slotFooter"in k&&t(17,R=k.slotFooter),"$$scope"in k&&t(18,d=k.$$scope)},s.$$.update=()=>{t(9,i=`${Fa} ${e.class??""}`),s.$$.dirty&2048&&t(8,r=`${g}`),s.$$.dirty&4096&&t(7,n=`${Ma} ${b}`),s.$$.dirty&8192&&t(6,o=`${Ha} ${v}`),s.$$.dirty&16384&&t(5,a=`${E}`),s.$$.dirty&32768&&t(4,l=`${T}`),s.$$.dirty&65536&&t(3,c=`${S}`),s.$$.dirty&131072&&t(2,u=`${R}`)},e=fe(e),[m,_,u,c,l,a,o,n,r,i,f,g,b,v,E,T,S,R,d,h,L]}class qa extends be{constructor(e){super(),pe(this,e,za,Na,ge,{scrollbarGutter:0,regionPage:1,slotHeader:11,slotSidebarLeft:12,slotSidebarRight:13,slotPageHeader:14,slotPageContent:15,slotPageFooter:16,slotFooter:17})}}function Va(s,{from:e,to:t},i={}){const r=getComputedStyle(s),n=r.transform==="none"?"":r.transform,[o,a]=r.transformOrigin.split(" ").map(parseFloat),l=e.left+e.width*o/t.width-(t.left+o),c=e.top+e.height*a/t.height-(t.top+a),{delay:u=0,duration:h=f=>Math.sqrt(f)*120,easing:d=Ln}=i;return{delay:u,duration:yn(h)?h(Math.sqrt(l*l+c*c)):h,easing:d,css:(f,m)=>{const _=m*l,g=m*c,b=f+m*e.width/t.width,v=f+m*e.height/t.height;return`transform: ${n} translate(${_}px, ${g}px) scale(${b}, ${v});`}}}const Ga=s=>({}),ms=s=>({});function _s(s){let e,t,i;const r=s[17].panel,n=ee(r,s,s[16],ms);return{c(){e=U("div"),n&&n.c(),this.h()},l(o){e=N(o,"DIV",{class:!0,role:!0,"aria-labelledby":!0,tabindex:!0});var a=F(e);n&&n.l(a),a.forEach(y),this.h()},h(){p(e,"class",t="tab-panel "+s[2]),p(e,"role","tabpanel"),p(e,"aria-labelledby",s[1]),p(e,"tabindex","0")},m(o,a){B(o,e,a),n&&n.m(e,null),i=!0},p(o,a){n&&n.p&&(!i||a&65536)&&te(n,r,o,o[16],i?se(r,o[16],a,Ga):ie(o[16]),ms),(!i||a&4&&t!==(t="tab-panel "+o[2]))&&p(e,"class",t),(!i||a&2)&&p(e,"aria-labelledby",o[1])},i(o){i||(C(n,o),i=!0)},o(o){j(n,o),i=!1},d(o){o&&y(e),n&&n.d(o)}}}function Ja(s){let e,t,i,r,n,o,a,l;const c=s[17].default,u=ee(c,s,s[16],null);let h=s[5].panel&&_s(s);return{c(){e=U("div"),t=U("div"),u&&u.c(),r=q(),h&&h.c(),this.h()},l(d){e=N(d,"DIV",{class:!0,"data-testid":!0});var f=F(e);t=N(f,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var m=F(t);u&&u.l(m),m.forEach(y),r=V(f),h&&h.l(f),f.forEach(y),this.h()},h(){p(t,"class",i="tab-list "+s[3]),p(t,"role","tablist"),p(t,"aria-labelledby",s[0]),p(e,"class",n="tab-group "+s[4]),p(e,"data-testid","tab-group")},m(d,f){B(d,e,f),x(e,t),u&&u.m(t,null),x(e,r),h&&h.m(e,null),o=!0,a||(l=[z(e,"click",s[18]),z(e,"keypress",s[19]),z(e,"keydown",s[20]),z(e,"keyup",s[21])],a=!0)},p(d,[f]){u&&u.p&&(!o||f&65536)&&te(u,c,d,d[16],o?se(c,d[16],f,null):ie(d[16]),null),(!o||f&8&&i!==(i="tab-list "+d[3]))&&p(t,"class",i),(!o||f&1)&&p(t,"aria-labelledby",d[0]),d[5].panel?h?(h.p(d,f),f&32&&C(h,1)):(h=_s(d),h.c(),C(h,1),h.m(e,null)):h&&(oe(),j(h,1,1,()=>{h=null}),ae()),(!o||f&16&&n!==(n="tab-group "+d[4]))&&p(e,"class",n)},i(d){o||(C(u,d),C(h),o=!0)},o(d){j(u,d),j(h),o=!1},d(d){d&&y(e),u&&u.d(d),h&&h.d(),a=!1,dt(l)}}}const Ka="space-y-4",Wa="flex overflow-x-auto hide-scrollbar",Ya="";function Xa(s,e,t){let i,r,n,{$$slots:o={},$$scope:a}=e;const l=zt(o);let{justify:c="justify-start"}=e,{border:u="border-b border-surface-400-500-token"}=e,{active:h="border-b-2 border-surface-900-50-token"}=e,{hover:d="hover:variant-soft"}=e,{flex:f="flex-none"}=e,{padding:m="px-4 py-2"}=e,{rounded:_="rounded-tl-container-token rounded-tr-container-token"}=e,{spacing:g="space-y-1"}=e,{regionList:b=""}=e,{regionPanel:v=""}=e,{labelledby:E=""}=e,{panel:T=""}=e;je("active",h),je("hover",d),je("flex",f),je("padding",m),je("rounded",_),je("spacing",g);function S(w){X.call(this,s,w)}function R(w){X.call(this,s,w)}function L(w){X.call(this,s,w)}function k(w){X.call(this,s,w)}return s.$$set=w=>{t(22,e=le(le({},e),fe(w))),"justify"in w&&t(6,c=w.justify),"border"in w&&t(7,u=w.border),"active"in w&&t(8,h=w.active),"hover"in w&&t(9,d=w.hover),"flex"in w&&t(10,f=w.flex),"padding"in w&&t(11,m=w.padding),"rounded"in w&&t(12,_=w.rounded),"spacing"in w&&t(13,g=w.spacing),"regionList"in w&&t(14,b=w.regionList),"regionPanel"in w&&t(15,v=w.regionPanel),"labelledby"in w&&t(0,E=w.labelledby),"panel"in w&&t(1,T=w.panel),"$$scope"in w&&t(16,a=w.$$scope)},s.$$.update=()=>{t(4,i=`${Ka} ${e.class??""}`),s.$$.dirty&16576&&t(3,r=`${Wa} ${c} ${u} ${b}`),s.$$.dirty&32768&&t(2,n=`${Ya} ${v}`)},e=fe(e),[E,T,n,r,i,l,c,u,h,d,f,m,_,g,b,v,a,o,S,R,L,k]}class Qa extends be{constructor(e){super(),pe(this,e,Xa,Ja,ge,{justify:6,border:7,active:8,hover:9,flex:10,padding:11,rounded:12,spacing:13,regionList:14,regionPanel:15,labelledby:0,panel:1})}}const Za=s=>({}),bs=s=>({});function ps(s){let e,t;const i=s[15].lead,r=ee(i,s,s[14],bs);return{c(){e=U("div"),r&&r.c(),this.h()},l(n){e=N(n,"DIV",{class:!0});var o=F(e);r&&r.l(o),o.forEach(y),this.h()},h(){p(e,"class","tab-lead")},m(n,o){B(n,e,o),r&&r.m(e,null),t=!0},p(n,o){r&&r.p&&(!t||o&16384)&&te(r,i,n,n[14],t?se(i,n[14],o,Za):ie(n[14]),bs)},i(n){t||(C(r,n),t=!0)},o(n){j(r,n),t=!1},d(n){n&&y(e),r&&r.d(n)}}}function $a(s){let e,t,i,r,n,o,a,l,c,u,h=s[5].lead&&ps(s);const d=s[15].default,f=ee(d,s,s[14],null);let m=[{class:o="tab-anchor "+s[2]},{href:a=s[4].href},s[3](),{"aria-controls":s[0]},{"data-testid":"tab-anchor"}],_={};for(let g=0;g<m.length;g+=1)_=le(_,m[g]);return{c(){e=U("a"),t=U("div"),h&&h.c(),i=q(),r=U("div"),f&&f.c(),this.h()},l(g){e=N(g,"A",{class:!0,href:!0,"aria-controls":!0,"data-testid":!0});var b=F(e);t=N(b,"DIV",{class:!0});var v=F(t);h&&h.l(v),i=V(v),r=N(v,"DIV",{class:!0});var E=F(r);f&&f.l(E),E.forEach(y),v.forEach(y),b.forEach(y),this.h()},h(){p(r,"class","tab-label"),p(t,"class",n="tab-interface "+s[1]),Ti(e,_)},m(g,b){B(g,e,b),x(e,t),h&&h.m(t,null),x(t,i),x(t,r),f&&f.m(r,null),l=!0,c||(u=[z(e,"click",s[16]),z(e,"keydown",s[17]),z(e,"keyup",s[18]),z(e,"keypress",s[19]),z(e,"mouseover",s[20]),z(e,"mouseleave",s[21]),z(e,"focus",s[22]),z(e,"blur",s[23])],c=!0)},p(g,[b]){g[5].lead?h?(h.p(g,b),b&32&&C(h,1)):(h=ps(g),h.c(),C(h,1),h.m(t,i)):h&&(oe(),j(h,1,1,()=>{h=null}),ae()),f&&f.p&&(!l||b&16384)&&te(f,d,g,g[14],l?se(d,g[14],b,null):ie(g[14]),null),(!l||b&2&&n!==(n="tab-interface "+g[1]))&&p(t,"class",n),Ti(e,_=Dn(m,[(!l||b&4&&o!==(o="tab-anchor "+g[2]))&&{class:o},(!l||b&16&&a!==(a=g[4].href))&&{href:a},g[3](),(!l||b&1)&&{"aria-controls":g[0]},{"data-testid":"tab-anchor"}]))},i(g){l||(C(h),C(f,g),l=!0)},o(g){j(h),j(f,g),l=!1},d(g){g&&y(e),h&&h.d(),f&&f.d(g),c=!1,dt(u)}}}const el="text-center cursor-pointer transition-colors duration-100",tl="";function il(s,e,t){let i,r,n;const o=["selected","controls","active","hover","flex","padding","rounded","spacing"];let a=Oi(e,o),{$$slots:l={},$$scope:c}=e;const u=zt(l);let{selected:h=!1}=e,{controls:d=""}=e,{active:f=qe("active")}=e,{hover:m=qe("hover")}=e,{flex:_=qe("flex")}=e,{padding:g=qe("padding")}=e,{rounded:b=qe("rounded")}=e,{spacing:v=qe("spacing")}=e;function E(){return delete a.class,a}function T(A){X.call(this,s,A)}function S(A){X.call(this,s,A)}function R(A){X.call(this,s,A)}function L(A){X.call(this,s,A)}function k(A){X.call(this,s,A)}function w(A){X.call(this,s,A)}function I(A){X.call(this,s,A)}function P(A){X.call(this,s,A)}return s.$$set=A=>{t(4,e=le(le({},e),fe(A))),t(24,a=Oi(e,o)),"selected"in A&&t(6,h=A.selected),"controls"in A&&t(0,d=A.controls),"active"in A&&t(7,f=A.active),"hover"in A&&t(8,m=A.hover),"flex"in A&&t(9,_=A.flex),"padding"in A&&t(10,g=A.padding),"rounded"in A&&t(11,b=A.rounded),"spacing"in A&&t(12,v=A.spacing),"$$scope"in A&&t(14,c=A.$$scope)},s.$$.update=()=>{s.$$.dirty&448&&t(13,i=h?f:m),t(2,r=`${el} ${_} ${g} ${b} ${i} ${e.class??""}`),s.$$.dirty&4096&&t(1,n=`${tl} ${v}`)},e=fe(e),[d,n,r,E,e,u,h,f,m,_,g,b,v,i,c,l,T,S,R,L,k,w,I,P]}class vs extends be{constructor(e){super(),pe(this,e,il,$a,ge,{selected:6,controls:0,active:7,hover:8,flex:9,padding:10,rounded:11,spacing:12})}}const{window:sl}=Hn;function ys(s){let e,t,i,r,n,o,a,l,c,u,h;const d=s[32].default,f=ee(d,s,s[31],null);return{c(){e=U("div"),t=U("div"),f&&f.c(),this.h()},l(m){e=N(m,"DIV",{class:!0,"data-testid":!0});var _=F(e);t=N(_,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-labelledby":!0,"aria-describedby":!0});var g=F(t);f&&f.l(g),g.forEach(y),_.forEach(y),this.h()},h(){p(t,"class",i="drawer "+s[8]),p(t,"data-testid","drawer"),p(t,"role","dialog"),p(t,"aria-modal","true"),p(t,"aria-labelledby",s[0]),p(t,"aria-describedby",s[1]),p(e,"class",o="drawer-backdrop "+s[9]),p(e,"data-testid","drawer-backdrop")},m(m,_){B(m,e,_),x(e,t),f&&f.m(t,null),s[36](t),s[37](e),c=!0,u||(h=[z(e,"mousedown",s[12]),z(e,"touchstart",s[33],{passive:!0}),z(e,"touchend",s[34],{passive:!0}),z(e,"keypress",s[35]),kn(_a.call(null,e,!0))],u=!0)},p(m,_){s=m,f&&f.p&&(!c||_[1]&1)&&te(f,d,s,s[31],c?se(d,s[31],_,null):ie(s[31]),null),(!c||_[0]&256&&i!==(i="drawer "+s[8]))&&p(t,"class",i),(!c||_[0]&1)&&p(t,"aria-labelledby",s[0]),(!c||_[0]&2)&&p(t,"aria-describedby",s[1]),(!c||_[0]&512&&o!==(o="drawer-backdrop "+s[9]))&&p(e,"class",o)},i(m){c||(C(f,m),m&&Ut(()=>{c&&(n&&n.end(1),r=Nt(t,ot,{transition:lt,params:{x:s[7].x,y:s[7].y,duration:s[2],opacity:s[3]?void 0:1},enabled:s[4]}),r.start())}),m&&Ut(()=>{c&&(l&&l.end(1),a=Nt(e,ot,{transition:Pi,params:{duration:s[2]},enabled:s[4]&&s[3]}),a.start())}),c=!0)},o(m){j(f,m),r&&r.invalidate(),m&&(n=Ft(t,ot,{transition:lt,params:{x:s[7].x,y:s[7].y,duration:s[2],opacity:s[3]?void 0:1,easing:xn},enabled:s[4]})),a&&a.invalidate(),m&&(l=Ft(e,ot,{transition:Pi,params:{duration:s[2]},enabled:s[4]&&s[3]})),c=!1},d(m){m&&y(e),f&&f.d(m),s[36](null),m&&n&&n.end(),s[37](null),m&&l&&l.end(),u=!1,dt(h)}}}function nl(s){let e,t,i,r,n=s[10].open===!0&&ys(s);return{c(){n&&n.c(),e=Se()},l(o){n&&n.l(o),e=Se()},m(o,a){n&&n.m(o,a),B(o,e,a),t=!0,i||(r=z(sl,"keydown",s[13]),i=!0)},p(o,a){o[10].open===!0?n?(n.p(o,a),a[0]&1024&&C(n,1)):(n=ys(o),n.c(),C(n,1),n.m(e.parentNode,e)):n&&(oe(),j(n,1,1,()=>{n=null}),ae())},i(o){t||(C(n),t=!0)},o(o){j(n),t=!1},d(o){o&&y(e),n&&n.d(o),i=!1,r()}}}const rl="fixed top-0 left-0 right-0 bottom-0 flex",ol="overflow-y-auto transition-transform";function al(s,e,t){let i,r,n,o,a,l,c,u;Oe(s,Ns,O=>t(38,u=O));let{$$slots:h={},$$scope:d}=e;const f=wn();let{position:m="left"}=e,{bgDrawer:_="bg-surface-100-800-token"}=e,{border:g=""}=e,{rounded:b=""}=e,{shadow:v="shadow-xl"}=e,{width:E=""}=e,{height:T=""}=e,{bgBackdrop:S="bg-surface-backdrop-token"}=e,{blur:R=""}=e,{padding:L=""}=e,{zIndex:k="z-40"}=e,{regionBackdrop:w=""}=e,{regionDrawer:I=""}=e,{labelledby:P=""}=e,{describedby:A=""}=e,{duration:K=200}=e,{transitions:G=!u}=e,{opacityTransition:Y=!0}=e;const Z={top:{alignment:"items-start",width:"w-full",height:"h-[50%]",rounded:"rounded-bl-container-token rounded-br-container-token"},bottom:{alignment:"items-end",width:"w-full",height:" h-[50%]",rounded:"rounded-tl-container-token rounded-tr-container-token"},left:{alignment:"justify-start",width:"w-[90%]",height:"h-full",rounded:"rounded-tr-container-token rounded-br-container-token"},right:{alignment:"justify-end",width:"w-[90%]",height:"h-full",rounded:"rounded-tl-container-token rounded-bl-container-token"}};let ne,Fe,Be={x:0,y:0};const Me=Jt();Oe(s,Me,O=>t(10,c=O));const $={position:m,bgBackdrop:S,blur:R,padding:L,bgDrawer:_,border:g,rounded:b,shadow:v,width:E,height:T,opacityTransition:Y,regionBackdrop:w,regionDrawer:I,labelledby:P,describedby:A,duration:K};function D(O){t(14,m=O.position||$.position),t(21,S=O.bgBackdrop||$.bgBackdrop),t(22,R=O.blur||$.blur),t(23,L=O.padding||$.padding),t(15,_=O.bgDrawer||$.bgDrawer),t(16,g=O.border||$.border),t(17,b=O.rounded||$.rounded),t(18,v=O.shadow||$.shadow),t(19,E=O.width||$.width),t(20,T=O.height||$.height),t(24,w=O.regionBackdrop||$.regionBackdrop),t(25,I=O.regionDrawer||$.regionDrawer),t(0,P=O.labelledby||$.labelledby),t(1,A=O.describedby||$.describedby),t(3,Y=O.opacityTransition||$.opacityTransition),t(2,K=O.duration||$.duration)}function ke(){switch(m){case"top":t(7,Be={x:0,y:-window.innerWidth});break;case"bottom":t(7,Be={x:0,y:window.innerWidth});break;case"left":t(7,Be={x:-window.innerHeight,y:0});break;case"right":t(7,Be={x:window.innerHeight,y:0});break;default:console.error("Error: unknown position property value.");break}}function At(O){O.target===ne?(Me.close(),f("backdrop",O)):f("drawer",O)}function fn(O){c&&O.code==="Escape"&&Me.close()}Me.subscribe(O=>{O.open===!0&&(D(O),ke())});function gn(O){X.call(this,s,O)}function mn(O){X.call(this,s,O)}function _n(O){X.call(this,s,O)}function bn(O){Ci[O?"unshift":"push"](()=>{Fe=O,t(6,Fe)})}function pn(O){Ci[O?"unshift":"push"](()=>{ne=O,t(5,ne)})}return s.$$set=O=>{t(44,e=le(le({},e),fe(O))),"position"in O&&t(14,m=O.position),"bgDrawer"in O&&t(15,_=O.bgDrawer),"border"in O&&t(16,g=O.border),"rounded"in O&&t(17,b=O.rounded),"shadow"in O&&t(18,v=O.shadow),"width"in O&&t(19,E=O.width),"height"in O&&t(20,T=O.height),"bgBackdrop"in O&&t(21,S=O.bgBackdrop),"blur"in O&&t(22,R=O.blur),"padding"in O&&t(23,L=O.padding),"zIndex"in O&&t(26,k=O.zIndex),"regionBackdrop"in O&&t(24,w=O.regionBackdrop),"regionDrawer"in O&&t(25,I=O.regionDrawer),"labelledby"in O&&t(0,P=O.labelledby),"describedby"in O&&t(1,A=O.describedby),"duration"in O&&t(2,K=O.duration),"transitions"in O&&t(4,G=O.transitions),"opacityTransition"in O&&t(3,Y=O.opacityTransition),"$$scope"in O&&t(31,d=O.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&16384&&t(30,i=Z[m].alignment),s.$$.dirty[0]&540672&&t(29,r=E||Z[m].width),s.$$.dirty[0]&1064960&&t(28,n=T||Z[m].height),s.$$.dirty[0]&147456&&t(27,o=b||Z[m].rounded),t(9,a=`${rl} ${S} ${L} ${R} ${i} ${w} ${k} ${e.class??""}`),s.$$.dirty[0]&973570048&&t(8,l=`${ol} ${_} ${g} ${b} ${v} ${r} ${n} ${o} ${I}`)},e=fe(e),[P,A,K,Y,G,ne,Fe,Be,l,a,c,Me,At,fn,m,_,g,b,v,E,T,S,R,L,w,I,k,o,n,r,i,d,h,gn,mn,_n,bn,pn]}class ll extends be{constructor(e){super(),pe(this,e,al,nl,ge,{position:14,bgDrawer:15,border:16,rounded:17,shadow:18,width:19,height:20,bgBackdrop:21,blur:22,padding:23,zIndex:26,regionBackdrop:24,regionDrawer:25,labelledby:0,describedby:1,duration:2,transitions:4,opacityTransition:3},null,[-1,-1])}}function cl(s){let e,t=`<script nonce="%sveltekit.nonce%">(${Pn.toString()})();<\/script>`,i,r,n,o,a,l,c,u,h,d,f,m;return{c(){e=new hi(!1),i=Se(),r=q(),n=U("div"),o=U("div"),a=Ie("svg"),l=Ie("path"),this.h()},l(_){const g=Sn("svelte-gewkj4",document.head);e=di(g,!1),i=Se(),g.forEach(y),r=V(_),n=N(_,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-checked":!0,title:!0,tabindex:!0});var b=F(n);o=N(b,"DIV",{class:!0});var v=F(o);a=Le(v,"svg",{class:!0,xmlns:!0,viewBox:!0});var E=F(a);l=Le(E,"path",{d:!0}),F(l).forEach(y),E.forEach(y),v.forEach(y),b.forEach(y),this.h()},h(){e.a=i,p(l,"d",c=s[1]?s[5].sun:s[5].moon),p(a,"class",u="lightswitch-icon "+s[2]),p(a,"xmlns","http://www.w3.org/2000/svg"),p(a,"viewBox","0 0 512 512"),p(o,"class",h="lightswitch-thumb "+s[3]),p(n,"class",d="lightswitch-track "+s[4]),p(n,"role","switch"),p(n,"aria-label","Light Switch"),p(n,"aria-checked",s[1]),p(n,"title",s[0]),p(n,"tabindex","0")},m(_,g){e.m(t,document.head),x(document.head,i),B(_,r,g),B(_,n,g),x(n,o),x(o,a),x(a,l),f||(m=[z(n,"click",s[6]),z(n,"click",s[19]),z(n,"keydown",fl),z(n,"keydown",s[20]),z(n,"keyup",s[21]),z(n,"keypress",s[22])],f=!0)},p(_,[g]){g&2&&c!==(c=_[1]?_[5].sun:_[5].moon)&&p(l,"d",c),g&4&&u!==(u="lightswitch-icon "+_[2])&&p(a,"class",u),g&8&&h!==(h="lightswitch-thumb "+_[3])&&p(o,"class",h),g&16&&d!==(d="lightswitch-track "+_[4])&&p(n,"class",d),g&2&&p(n,"aria-checked",_[1]),g&1&&p(n,"title",_[0])},i:Q,o:Q,d(_){_&&(e.d(),y(r),y(n)),y(i),f=!1,dt(m)}}}const ul="cursor-pointer",hl="aspect-square scale-[0.8] flex justify-center items-center",dl="w-[70%] aspect-square";function fl(s){["Enter","Space"].includes(s.code)&&(s.preventDefault(),s.currentTarget.click())}function gl(s,e,t){let i,r,n,o,a,l,c,u;Oe(s,Ri,P=>t(1,u=P));let{title:h="Toggle light or dark mode."}=e,{bgLight:d="bg-surface-50"}=e,{bgDark:f="bg-surface-900"}=e,{fillLight:m="fill-surface-50"}=e,{fillDark:_="fill-surface-900"}=e,{width:g="w-12"}=e,{height:b="h-6"}=e,{ring:v="ring-[1px] ring-surface-500/30"}=e,{rounded:E="rounded-token"}=e;const T="transition-all duration-[200ms]",S={sun:"M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM352 256c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zm32 0c0-70.7-57.3-128-128-128s-128 57.3-128 128s57.3 128 128 128s128-57.3 128-128z",moon:"M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"};function R(){xs(Ri,u=!u,u),In(u),Ai(u)}Ds(()=>{"modeCurrent"in localStorage||Ai(jn())});function L(P){X.call(this,s,P)}function k(P){X.call(this,s,P)}function w(P){X.call(this,s,P)}function I(P){X.call(this,s,P)}return s.$$set=P=>{t(24,e=le(le({},e),fe(P))),"title"in P&&t(0,h=P.title),"bgLight"in P&&t(7,d=P.bgLight),"bgDark"in P&&t(8,f=P.bgDark),"fillLight"in P&&t(9,m=P.fillLight),"fillDark"in P&&t(10,_=P.fillDark),"width"in P&&t(11,g=P.width),"height"in P&&t(12,b=P.height),"ring"in P&&t(13,v=P.ring),"rounded"in P&&t(14,E=P.rounded)},s.$$.update=()=>{s.$$.dirty&386&&t(18,i=u===!0?d:f),s.$$.dirty&386&&t(17,r=u===!0?f:d),s.$$.dirty&2&&t(16,n=u===!0?"translate-x-[100%]":""),s.$$.dirty&1538&&t(15,o=u===!0?m:_),t(4,a=`${ul} ${T} ${g} ${b} ${v} ${E} ${i} ${e.class??""}`),s.$$.dirty&217088&&t(3,l=`${hl} ${T} ${b} ${E} ${r} ${n}`),s.$$.dirty&32768&&t(2,c=`${dl} ${o}`)},e=fe(e),[h,u,c,l,a,S,R,d,f,m,_,g,b,v,E,o,n,r,i,L,k,w,I]}class tn extends be{constructor(e){super(),pe(this,e,gl,cl,ge,{title:0,bgLight:7,bgDark:8,fillLight:9,fillDark:10,width:11,height:12,ring:13,rounded:14})}}function ws(s,e,t){const i=s.slice();return i[36]=e[t],i[38]=t,i}function ks(s){let e,t,i=[],r=new Map,n,o,a,l=ji(s[11]);const c=u=>u[36];for(let u=0;u<l.length;u+=1){let h=ws(s,l,u),d=c(h);r.set(d,i[u]=Os(d,h))}return{c(){e=U("div"),t=U("div");for(let u=0;u<i.length;u+=1)i[u].c();this.h()},l(u){e=N(u,"DIV",{class:!0,"data-testid":!0});var h=F(e);t=N(h,"DIV",{class:!0});var d=F(t);for(let f=0;f<i.length;f+=1)i[f].l(d);d.forEach(y),h.forEach(y),this.h()},h(){p(t,"class",n="snackbar "+s[13]),p(e,"class",o="snackbar-wrapper "+s[14]),p(e,"data-testid","snackbar-wrapper")},m(u,h){B(u,e,h),x(e,t);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(t,null);a=!0},p(u,h){if(h[0]&499103){l=ji(u[11]),oe();for(let d=0;d<i.length;d+=1)i[d].r();i=Un(i,h,c,1,u,l,r,t,Nn,Os,null,ws);for(let d=0;d<i.length;d+=1)i[d].a();ae()}(!a||h[0]&8192&&n!==(n="snackbar "+u[13]))&&p(t,"class",n),(!a||h[0]&16384&&o!==(o="snackbar-wrapper "+u[14]))&&p(e,"class",o)},i(u){if(!a){for(let h=0;h<l.length;h+=1)C(i[h]);a=!0}},o(u){for(let h=0;h<i.length;h+=1)j(i[h]);a=!1},d(u){u&&y(e);for(let h=0;h<i.length;h+=1)i[h].d()}}}function Ss(s){let e,t,i=s[36].action&&Es(s),r=!s[36].hideDismiss&&Ts(s);return{c(){e=U("div"),i&&i.c(),t=q(),r&&r.c(),this.h()},l(n){e=N(n,"DIV",{class:!0});var o=F(e);i&&i.l(o),t=V(o),r&&r.l(o),o.forEach(y),this.h()},h(){p(e,"class","toast-actions "+vl)},m(n,o){B(n,e,o),i&&i.m(e,null),x(e,t),r&&r.m(e,null)},p(n,o){n[36].action?i?i.p(n,o):(i=Es(n),i.c(),i.m(e,t)):i&&(i.d(1),i=null),n[36].hideDismiss?r&&(r.d(1),r=null):r?r.p(n,o):(r=Ts(n),r.c(),r.m(e,null))},d(n){n&&y(e),i&&i.d(),r&&r.d()}}}function Es(s){let e,t,i=s[36].action.label+"",r,n;function o(){return s[30](s[38])}return{c(){e=U("button"),t=new hi(!1),this.h()},l(a){e=N(a,"BUTTON",{class:!0});var l=F(e);t=di(l,!1),l.forEach(y),this.h()},h(){t.a=null,p(e,"class",s[1])},m(a,l){B(a,e,l),t.m(i,e),r||(n=z(e,"click",o),r=!0)},p(a,l){s=a,l[0]&2048&&i!==(i=s[36].action.label+"")&&t.p(i),l[0]&2&&p(e,"class",s[1])},d(a){a&&y(e),r=!1,n()}}}function Ts(s){let e,t,i,r;function n(){return s[31](s[36])}return{c(){e=U("button"),t=Ze(s[3]),this.h()},l(o){e=N(o,"BUTTON",{class:!0,"aria-label":!0});var a=F(e);t=$e(a,s[3]),a.forEach(y),this.h()},h(){p(e,"class",s[2]),p(e,"aria-label","Dismiss toast")},m(o,a){B(o,e,a),x(e,t),i||(r=z(e,"click",n),i=!0)},p(o,a){s=o,a[0]&8&&Us(t,s[3]),a[0]&4&&p(e,"class",s[2])},d(o){o&&y(e),i=!1,r()}}}function Os(s,e){let t,i,r,n,o=e[36].message+"",a,l,c,u,h,d,f,m=Q,_,g,b,v=(e[36].action||!e[36].hideDismiss)&&Ss(e);function E(){return e[32](e[38])}function T(){return e[33](e[38])}return{key:s,first:null,c(){t=U("div"),i=U("div"),r=U("div"),n=new hi(!1),a=q(),v&&v.c(),c=q(),this.h()},l(S){t=N(S,"DIV",{role:!0,"aria-live":!0});var R=F(t);i=N(R,"DIV",{class:!0,"data-testid":!0});var L=F(i);r=N(L,"DIV",{class:!0});var k=F(r);n=di(k,!1),k.forEach(y),a=V(L),v&&v.l(L),L.forEach(y),c=V(R),R.forEach(y),this.h()},h(){n.a=null,p(r,"class","text-base"),p(i,"class",l="toast "+e[12]+" "+(e[36].background??e[0])+" "+(e[36].classes??"")),p(i,"data-testid","toast"),p(t,"role",u=e[36].hideDismiss?"alert":"alertdialog"),p(t,"aria-live","polite"),this.first=t},m(S,R){B(S,t,R),x(t,i),x(i,r),n.m(o,r),x(i,a),v&&v.m(i,null),x(t,c),_=!0,g||(b=[z(t,"mouseenter",E),z(t,"mouseleave",T)],g=!0)},p(S,R){e=S,(!_||R[0]&2048)&&o!==(o=e[36].message+"")&&n.p(o),e[36].action||!e[36].hideDismiss?v?v.p(e,R):(v=Ss(e),v.c(),v.m(i,null)):v&&(v.d(1),v=null),(!_||R[0]&6145&&l!==(l="toast "+e[12]+" "+(e[36].background??e[0])+" "+(e[36].classes??"")))&&p(i,"class",l),(!_||R[0]&2048&&u!==(u=e[36].hideDismiss?"alert":"alertdialog"))&&p(t,"role",u)},r(){f=t.getBoundingClientRect()},f(){qn(t),m(),Bs(t,f)},a(){m(),m=zn(t,f,Va,{duration:e[4]?250:0})},i(S){_||(Ut(()=>{_&&(d&&d.end(1),h=Nt(t,ot,{transition:e[5],params:{x:e[10].x,y:e[10].y,...e[6]},enabled:e[4]}),h.start())}),_=!0)},o(S){h&&h.invalidate(),d=Ft(t,ot,{transition:e[7],params:{x:e[10].x,y:e[10].y,...e[8]},enabled:e[4]}),_=!1},d(S){S&&y(t),v&&v.d(),S&&d&&d.end(),g=!1,dt(b)}}}function ml(s){let e,t,i=s[9].length&&ks(s);return{c(){i&&i.c(),e=Se()},l(r){i&&i.l(r),e=Se()},m(r,n){i&&i.m(r,n),B(r,e,n),t=!0},p(r,n){r[9].length?i?(i.p(r,n),n[0]&512&&C(i,1)):(i=ks(r),i.c(),C(i,1),i.m(e.parentNode,e)):i&&(oe(),j(i,1,1,()=>{i=null}),ae())},i(r){t||(C(i),t=!0)},o(r){j(i),t=!1},d(r){r&&y(e),i&&i.d(r)}}}const _l="flex fixed top-0 left-0 right-0 bottom-0 pointer-events-none",bl="flex flex-col gap-y-2",pl="flex justify-between items-center pointer-events-auto",vl="flex items-center space-x-2";function yl(s,e,t){let i,r,n,o,a,l;Oe(s,Ns,D=>t(34,l=D));const c=An();Oe(s,c,D=>t(9,a=D));let{position:u="b"}=e,{max:h=3}=e,{background:d="variant-filled-secondary"}=e,{width:f="max-w-[640px]"}=e,{color:m=""}=e,{padding:_="p-4"}=e,{spacing:g="space-x-4"}=e,{rounded:b="rounded-container-token"}=e,{shadow:v="shadow-lg"}=e,{zIndex:E="z-[888]"}=e,{buttonAction:T="btn variant-filled"}=e,{buttonDismiss:S="btn-icon btn-icon-sm variant-filled"}=e,{buttonDismissLabel:R="✕"}=e,{transitions:L=!l}=e,{transitionIn:k=lt}=e,{transitionInParams:w={duration:250}}=e,{transitionOut:I=lt}=e,{transitionOutParams:P={duration:250}}=e,A,K,G={x:0,y:0};switch(u){case"t":A="justify-center items-start",K="items-center",G={x:0,y:-100};break;case"b":A="justify-center items-end",K="items-center",G={x:0,y:100};break;case"l":A="justify-start items-center",K="items-start",G={x:-100,y:0};break;case"r":A="justify-end items-center",K="items-end",G={x:100,y:0};break;case"tl":A="justify-start items-start",K="items-start",G={x:-100,y:0};break;case"tr":A="justify-end items-start",K="items-end",G={x:100,y:0};break;case"bl":A="justify-start items-end",K="items-start",G={x:-100,y:0};break;case"br":A="justify-end items-end",K="items-end",G={x:100,y:0};break}function Y(D){var ke,At;(At=(ke=a[D])==null?void 0:ke.action)==null||At.response(),c.close(a[D].id)}function Z(D){var ke;(ke=a[D])!=null&&ke.hoverable&&(c.freeze(D),t(13,r+=" scale-[105%]"))}function ne(D){var ke;(ke=a[D])!=null&&ke.hoverable&&(c.unfreeze(D),t(13,r=r.replace(" scale-[105%]","")))}const Fe=D=>Y(D),Be=D=>c.close(D.id),Me=D=>Z(D),$=D=>ne(D);return s.$$set=D=>{t(35,e=le(le({},e),fe(D))),"position"in D&&t(19,u=D.position),"max"in D&&t(20,h=D.max),"background"in D&&t(0,d=D.background),"width"in D&&t(21,f=D.width),"color"in D&&t(22,m=D.color),"padding"in D&&t(23,_=D.padding),"spacing"in D&&t(24,g=D.spacing),"rounded"in D&&t(25,b=D.rounded),"shadow"in D&&t(26,v=D.shadow),"zIndex"in D&&t(27,E=D.zIndex),"buttonAction"in D&&t(1,T=D.buttonAction),"buttonDismiss"in D&&t(2,S=D.buttonDismiss),"buttonDismissLabel"in D&&t(3,R=D.buttonDismissLabel),"transitions"in D&&t(4,L=D.transitions),"transitionIn"in D&&t(5,k=D.transitionIn),"transitionInParams"in D&&t(6,w=D.transitionInParams),"transitionOut"in D&&t(7,I=D.transitionOut),"transitionOutParams"in D&&t(8,P=D.transitionOutParams)},s.$$.update=()=>{t(14,i=`${_l} ${A} ${E} ${e.class||""}`),s.$$.dirty[0]&545259520&&t(13,r=`${bl} ${K} ${_}`),s.$$.dirty[0]&132120576&&t(12,n=`${pl} ${f} ${m} ${_} ${g} ${b} ${v}`),s.$$.dirty[0]&1049088&&t(11,o=Array.from(a).slice(0,h))},e=fe(e),[d,T,S,R,L,k,w,I,P,a,G,o,n,r,i,c,Y,Z,ne,u,h,f,m,_,g,b,v,E,A,K,Fe,Be,Me,$]}class wl extends be{constructor(e){super(),pe(this,e,yl,ml,ge,{position:19,max:20,background:0,width:21,color:22,padding:23,spacing:24,rounded:25,shadow:26,zIndex:27,buttonAction:1,buttonDismiss:2,buttonDismissLabel:3,transitions:4,transitionIn:5,transitionInParams:6,transitionOut:7,transitionOutParams:8},null,[-1,-1])}}const ut=Math.min,We=Math.max,Bt=Math.round,xt=Math.floor,Ue=s=>({x:s,y:s}),kl={left:"right",right:"left",bottom:"top",top:"bottom"},Sl={start:"end",end:"start"};function li(s,e,t){return We(s,ut(e,t))}function Ot(s,e){return typeof s=="function"?s(e):s}function Xe(s){return s.split("-")[0]}function Ct(s){return s.split("-")[1]}function sn(s){return s==="x"?"y":"x"}function vi(s){return s==="y"?"height":"width"}function Kt(s){return["top","bottom"].includes(Xe(s))?"y":"x"}function yi(s){return sn(Kt(s))}function El(s,e,t){t===void 0&&(t=!1);const i=Ct(s),r=yi(s),n=vi(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[n]>e.floating[n]&&(o=Mt(o)),[o,Mt(o)]}function Tl(s){const e=Mt(s);return[ci(s),e,ci(e)]}function ci(s){return s.replace(/start|end/g,e=>Sl[e])}function Ol(s,e,t){const i=["left","right"],r=["right","left"],n=["top","bottom"],o=["bottom","top"];switch(s){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?n:o;default:return[]}}function Cl(s,e,t,i){const r=Ct(s);let n=Ol(Xe(s),t==="start",i);return r&&(n=n.map(o=>o+"-"+r),e&&(n=n.concat(n.map(ci)))),n}function Mt(s){return s.replace(/left|right|bottom|top/g,e=>kl[e])}function Rl(s){return{top:0,right:0,bottom:0,left:0,...s}}function nn(s){return typeof s!="number"?Rl(s):{top:s,right:s,bottom:s,left:s}}function Ht(s){return{...s,top:s.y,left:s.x,right:s.x+s.width,bottom:s.y+s.height}}function Cs(s,e,t){let{reference:i,floating:r}=s;const n=Kt(e),o=yi(e),a=vi(o),l=Xe(e),c=n==="y",u=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,d=i[a]/2-r[a]/2;let f;switch(l){case"top":f={x:u,y:i.y-r.height};break;case"bottom":f={x:u,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:h};break;case"left":f={x:i.x-r.width,y:h};break;default:f={x:i.x,y:i.y}}switch(Ct(e)){case"start":f[o]-=d*(t&&c?-1:1);break;case"end":f[o]+=d*(t&&c?-1:1);break}return f}const Al=async(s,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:n=[],platform:o}=t,a=n.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:s,floating:e,strategy:r}),{x:u,y:h}=Cs(c,i,l),d=i,f={},m=0;for(let _=0;_<a.length;_++){const{name:g,fn:b}=a[_],{x:v,y:E,data:T,reset:S}=await b({x:u,y:h,initialPlacement:i,placement:d,strategy:r,middlewareData:f,rects:c,platform:o,elements:{reference:s,floating:e}});if(u=v??u,h=E??h,f={...f,[g]:{...f[g],...T}},S&&m<=50){m++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:s,floating:e,strategy:r}):S.rects),{x:u,y:h}=Cs(c,d,l)),_=-1;continue}}return{x:u,y:h,placement:d,strategy:r,middlewareData:f}};async function rn(s,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:n,rects:o,elements:a,strategy:l}=s,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=Ot(e,s),m=nn(f),g=a[d?h==="floating"?"reference":"floating":h],b=Ht(await n.getClippingRect({element:(t=await(n.isElement==null?void 0:n.isElement(g)))==null||t?g:g.contextElement||await(n.getDocumentElement==null?void 0:n.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=h==="floating"?{...o.floating,x:i,y:r}:o.reference,E=await(n.getOffsetParent==null?void 0:n.getOffsetParent(a.floating)),T=await(n.isElement==null?void 0:n.isElement(E))?await(n.getScale==null?void 0:n.getScale(E))||{x:1,y:1}:{x:1,y:1},S=Ht(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:E,strategy:l}):v);return{top:(b.top-S.top+m.top)/T.y,bottom:(S.bottom-b.bottom+m.bottom)/T.y,left:(b.left-S.left+m.left)/T.x,right:(S.right-b.right+m.right)/T.x}}const Pl=s=>({name:"arrow",options:s,async fn(e){const{x:t,y:i,placement:r,rects:n,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ot(s,e)||{};if(c==null)return{};const h=nn(u),d={x:t,y:i},f=yi(r),m=vi(f),_=await o.getDimensions(c),g=f==="y",b=g?"top":"left",v=g?"bottom":"right",E=g?"clientHeight":"clientWidth",T=n.reference[m]+n.reference[f]-d[f]-n.floating[m],S=d[f]-n.reference[f],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let L=R?R[E]:0;(!L||!await(o.isElement==null?void 0:o.isElement(R)))&&(L=a.floating[E]||n.floating[m]);const k=T/2-S/2,w=L/2-_[m]/2-1,I=ut(h[b],w),P=ut(h[v],w),A=I,K=L-_[m]-P,G=L/2-_[m]/2+k,Y=li(A,G,K),Z=!l.arrow&&Ct(r)!=null&&G!=Y&&n.reference[m]/2-(G<A?I:P)-_[m]/2<0,ne=Z?G<A?G-A:G-K:0;return{[f]:d[f]+ne,data:{[f]:Y,centerOffset:G-Y-ne,...Z&&{alignmentOffset:ne}},reset:Z}}}),jl=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(e){var t,i;const{placement:r,middlewareData:n,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:_=!0,...g}=Ot(s,e);if((t=n.arrow)!=null&&t.alignmentOffset)return{};const b=Xe(r),v=Xe(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=d||(v||!_?[Mt(a)]:Tl(a));!d&&m!=="none"&&T.push(...Cl(a,_,m,E));const S=[a,...T],R=await rn(e,g),L=[];let k=((i=n.flip)==null?void 0:i.overflows)||[];if(u&&L.push(R[b]),h){const A=El(r,o,E);L.push(R[A[0]],R[A[1]])}if(k=[...k,{placement:r,overflows:L}],!L.every(A=>A<=0)){var w,I;const A=(((w=n.flip)==null?void 0:w.index)||0)+1,K=S[A];if(K)return{data:{index:A,overflows:k},reset:{placement:K}};let G=(I=k.filter(Y=>Y.overflows[0]<=0).sort((Y,Z)=>Y.overflows[1]-Z.overflows[1])[0])==null?void 0:I.placement;if(!G)switch(f){case"bestFit":{var P;const Y=(P=k.map(Z=>[Z.placement,Z.overflows.filter(ne=>ne>0).reduce((ne,Fe)=>ne+Fe,0)]).sort((Z,ne)=>Z[1]-ne[1])[0])==null?void 0:P[0];Y&&(G=Y);break}case"initialPlacement":G=a;break}if(r!==G)return{reset:{placement:G}}}return{}}}};async function Il(s,e){const{placement:t,platform:i,elements:r}=s,n=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Xe(t),a=Ct(t),l=Kt(t)==="y",c=["left","top"].includes(o)?-1:1,u=n&&l?-1:1,h=Ot(e,s);let{mainAxis:d,crossAxis:f,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof m=="number"&&(f=a==="end"?m*-1:m),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}const Ll=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(e){const{x:t,y:i}=e,r=await Il(e,s);return{x:t+r.x,y:i+r.y,data:r}}}},Dl=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:n=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:b,y:v}=g;return{x:b,y:v}}},...l}=Ot(s,e),c={x:t,y:i},u=await rn(e,l),h=Kt(Xe(r)),d=sn(h);let f=c[d],m=c[h];if(n){const g=d==="y"?"top":"left",b=d==="y"?"bottom":"right",v=f+u[g],E=f-u[b];f=li(v,f,E)}if(o){const g=h==="y"?"top":"left",b=h==="y"?"bottom":"right",v=m+u[g],E=m-u[b];m=li(v,m,E)}const _=a.fn({...e,[d]:f,[h]:m});return{..._,data:{x:_.x-t,y:_.y-i}}}}};function Ne(s){return on(s)?(s.nodeName||"").toLowerCase():"#document"}function _e(s){var e;return(s==null||(e=s.ownerDocument)==null?void 0:e.defaultView)||window}function Re(s){var e;return(e=(on(s)?s.ownerDocument:s.document)||window.document)==null?void 0:e.documentElement}function on(s){return s instanceof Node||s instanceof _e(s).Node}function Ce(s){return s instanceof Element||s instanceof _e(s).Element}function Ee(s){return s instanceof HTMLElement||s instanceof _e(s).HTMLElement}function Rs(s){return typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof _e(s).ShadowRoot}function Rt(s){const{overflow:e,overflowX:t,overflowY:i,display:r}=ye(s);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function xl(s){return["table","td","th"].includes(Ne(s))}function wi(s){const e=ki(),t=ye(s);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function Ul(s){let e=ht(s);for(;Ee(e)&&!Wt(e);){if(wi(e))return e;e=ht(e)}return null}function ki(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wt(s){return["html","body","#document"].includes(Ne(s))}function ye(s){return _e(s).getComputedStyle(s)}function Yt(s){return Ce(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.pageXOffset,scrollTop:s.pageYOffset}}function ht(s){if(Ne(s)==="html")return s;const e=s.assignedSlot||s.parentNode||Rs(s)&&s.host||Re(s);return Rs(e)?e.host:e}function an(s){const e=ht(s);return Wt(e)?s.ownerDocument?s.ownerDocument.body:s.body:Ee(e)&&Rt(e)?e:an(e)}function St(s,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=an(s),n=r===((i=s.ownerDocument)==null?void 0:i.body),o=_e(r);return n?e.concat(o,o.visualViewport||[],Rt(r)?r:[],o.frameElement&&t?St(o.frameElement):[]):e.concat(r,St(r,[],t))}function ln(s){const e=ye(s);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Ee(s),n=r?s.offsetWidth:t,o=r?s.offsetHeight:i,a=Bt(t)!==n||Bt(i)!==o;return a&&(t=n,i=o),{width:t,height:i,$:a}}function Si(s){return Ce(s)?s:s.contextElement}function at(s){const e=Si(s);if(!Ee(e))return Ue(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:n}=ln(e);let o=(n?Bt(t.width):t.width)/i,a=(n?Bt(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Nl=Ue(0);function cn(s){const e=_e(s);return!ki()||!e.visualViewport?Nl:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Fl(s,e,t){return e===void 0&&(e=!1),!t||e&&t!==_e(s)?!1:e}function Qe(s,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=s.getBoundingClientRect(),n=Si(s);let o=Ue(1);e&&(i?Ce(i)&&(o=at(i)):o=at(s));const a=Fl(n,t,i)?cn(n):Ue(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,h=r.height/o.y;if(n){const d=_e(n),f=i&&Ce(i)?_e(i):i;let m=d.frameElement;for(;m&&i&&f!==d;){const _=at(m),g=m.getBoundingClientRect(),b=ye(m),v=g.left+(m.clientLeft+parseFloat(b.paddingLeft))*_.x,E=g.top+(m.clientTop+parseFloat(b.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,h*=_.y,l+=v,c+=E,m=_e(m).frameElement}}return Ht({width:u,height:h,x:l,y:c})}function Bl(s){let{rect:e,offsetParent:t,strategy:i}=s;const r=Ee(t),n=Re(t);if(t===n)return e;let o={scrollLeft:0,scrollTop:0},a=Ue(1);const l=Ue(0);if((r||!r&&i!=="fixed")&&((Ne(t)!=="body"||Rt(n))&&(o=Yt(t)),Ee(t))){const c=Qe(t);a=at(t),l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function Ml(s){return Array.from(s.getClientRects())}function un(s){return Qe(Re(s)).left+Yt(s).scrollLeft}function Hl(s){const e=Re(s),t=Yt(s),i=s.ownerDocument.body,r=We(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),n=We(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+un(s);const a=-t.scrollTop;return ye(i).direction==="rtl"&&(o+=We(e.clientWidth,i.clientWidth)-r),{width:r,height:n,x:o,y:a}}function zl(s,e){const t=_e(s),i=Re(s),r=t.visualViewport;let n=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){n=r.width,o=r.height;const c=ki();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:n,height:o,x:a,y:l}}function ql(s,e){const t=Qe(s,!0,e==="fixed"),i=t.top+s.clientTop,r=t.left+s.clientLeft,n=Ee(s)?at(s):Ue(1),o=s.clientWidth*n.x,a=s.clientHeight*n.y,l=r*n.x,c=i*n.y;return{width:o,height:a,x:l,y:c}}function As(s,e,t){let i;if(e==="viewport")i=zl(s,t);else if(e==="document")i=Hl(Re(s));else if(Ce(e))i=ql(e,t);else{const r=cn(s);i={...e,x:e.x-r.x,y:e.y-r.y}}return Ht(i)}function hn(s,e){const t=ht(s);return t===e||!Ce(t)||Wt(t)?!1:ye(t).position==="fixed"||hn(t,e)}function Vl(s,e){const t=e.get(s);if(t)return t;let i=St(s,[],!1).filter(a=>Ce(a)&&Ne(a)!=="body"),r=null;const n=ye(s).position==="fixed";let o=n?ht(s):s;for(;Ce(o)&&!Wt(o);){const a=ye(o),l=wi(o);!l&&a.position==="fixed"&&(r=null),(n?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Rt(o)&&!l&&hn(s,o))?i=i.filter(u=>u!==o):r=a,o=ht(o)}return e.set(s,i),i}function Gl(s){let{element:e,boundary:t,rootBoundary:i,strategy:r}=s;const o=[...t==="clippingAncestors"?Vl(e,this._c):[].concat(t),i],a=o[0],l=o.reduce((c,u)=>{const h=As(e,u,r);return c.top=We(h.top,c.top),c.right=ut(h.right,c.right),c.bottom=ut(h.bottom,c.bottom),c.left=We(h.left,c.left),c},As(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Jl(s){return ln(s)}function Kl(s,e,t){const i=Ee(e),r=Re(e),n=t==="fixed",o=Qe(s,!0,n,e);let a={scrollLeft:0,scrollTop:0};const l=Ue(0);if(i||!i&&!n)if((Ne(e)!=="body"||Rt(r))&&(a=Yt(e)),i){const c=Qe(e,!0,n,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else r&&(l.x=un(r));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Ps(s,e){return!Ee(s)||ye(s).position==="fixed"?null:e?e(s):s.offsetParent}function dn(s,e){const t=_e(s);if(!Ee(s))return t;let i=Ps(s,e);for(;i&&xl(i)&&ye(i).position==="static";)i=Ps(i,e);return i&&(Ne(i)==="html"||Ne(i)==="body"&&ye(i).position==="static"&&!wi(i))?t:i||Ul(s)||t}const Wl=async function(s){let{reference:e,floating:t,strategy:i}=s;const r=this.getOffsetParent||dn,n=this.getDimensions;return{reference:Kl(e,await r(t),i),floating:{x:0,y:0,...await n(t)}}};function Yl(s){return ye(s).direction==="rtl"}const Xl={convertOffsetParentRelativeRectToViewportRelativeRect:Bl,getDocumentElement:Re,getClippingRect:Gl,getOffsetParent:dn,getElementRects:Wl,getClientRects:Ml,getDimensions:Jl,getScale:at,isElement:Ce,isRTL:Yl};function Ql(s,e){let t=null,i;const r=Re(s);function n(){clearTimeout(i),t&&t.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),n();const{left:c,top:u,width:h,height:d}=s.getBoundingClientRect();if(a||e(),!h||!d)return;const f=xt(u),m=xt(r.clientWidth-(c+h)),_=xt(r.clientHeight-(u+d)),g=xt(c),v={rootMargin:-f+"px "+-m+"px "+-_+"px "+-g+"px",threshold:We(0,ut(1,l))||1};let E=!0;function T(S){const R=S[0].intersectionRatio;if(R!==l){if(!E)return o();R?o(!1,R):i=setTimeout(()=>{o(!1,1e-7)},100)}E=!1}try{t=new IntersectionObserver(T,{...v,root:r.ownerDocument})}catch{t=new IntersectionObserver(T,v)}t.observe(s)}return o(!0),n}function Zl(s,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:n=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=Si(s),u=r||n?[...c?St(c):[],...St(e)]:[];u.forEach(b=>{r&&b.addEventListener("scroll",t,{passive:!0}),n&&b.addEventListener("resize",t)});const h=c&&a?Ql(c,t):null;let d=-1,f=null;o&&(f=new ResizeObserver(b=>{let[v]=b;v&&v.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{f&&f.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let m,_=l?Qe(s):null;l&&g();function g(){const b=Qe(s);_&&(b.x!==_.x||b.y!==_.y||b.width!==_.width||b.height!==_.height)&&t(),_=b,m=requestAnimationFrame(g)}return t(),()=>{u.forEach(b=>{r&&b.removeEventListener("scroll",t),n&&b.removeEventListener("resize",t)}),h&&h(),f&&f.disconnect(),f=null,l&&cancelAnimationFrame(m)}}const $l=(s,e,t)=>{const i=new Map,r={platform:Xl,...t},n={...r.platform,_c:i};return Al(s,e,{...r,platform:n})};function ec(s){let e;return{c(){e=Ze("Portfolios")},l(t){e=$e(t,"Portfolios")},m(t,i){B(t,e,i)},d(t){t&&y(e)}}}function tc(s){let e;return{c(){e=Ze("Editor")},l(t){e=$e(t,"Editor")},m(t,i){B(t,e,i)},d(t){t&&y(e)}}}function ic(s){let e,t,i,r;return e=new vs({props:{href:"/home",selected:s[0].url.pathname==="/home",$$slots:{default:[ec]},$$scope:{ctx:s}}}),i=new vs({props:{href:"/editor",selected:s[0].url.pathname==="/editor",$$slots:{default:[tc]},$$scope:{ctx:s}}}),{c(){ce(e.$$.fragment),t=q(),ce(i.$$.fragment)},l(n){ue(e.$$.fragment,n),t=V(n),ue(i.$$.fragment,n)},m(n,o){he(e,n,o),B(n,t,o),he(i,n,o),r=!0},p(n,o){const a={};o&1&&(a.selected=n[0].url.pathname==="/home"),o&8&&(a.$$scope={dirty:o,ctx:n}),e.$set(a);const l={};o&1&&(l.selected=n[0].url.pathname==="/editor"),o&8&&(l.$$scope={dirty:o,ctx:n}),i.$set(l)},i(n){r||(C(e.$$.fragment,n),C(i.$$.fragment,n),r=!0)},o(n){j(e.$$.fragment,n),j(i.$$.fragment,n),r=!1},d(n){n&&y(t),de(e,n),de(i,n)}}}function sc(s){let e,t;return e=new Qa({props:{justify:"justify-center",$$slots:{default:[ic]},$$scope:{ctx:s}}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,r){he(e,i,r),t=!0},p(i,[r]){const n={};r&9&&(n.$$scope={dirty:r,ctx:i}),e.$set(n)},i(i){t||(C(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){de(e,i)}}}function nc(s,e,t){let i;return Oe(s,Fs,r=>t(0,i=r)),Jt(),[i]}class rc extends be{constructor(e){super(),pe(this,e,nc,sc,ge,{})}}function oc(s){let e,t,i,r,n="Portfolios",o,a,l,c="Editor",u,h,d,f,m,_,g,b,v,E,T,S,R,L,k;return b=new tn({}),{c(){e=U("nav"),t=U("ul"),i=U("li"),r=U("a"),r.textContent=n,o=q(),a=U("li"),l=U("a"),l.textContent=c,u=q(),h=U("br"),d=q(),f=U("hr"),m=q(),_=U("li"),g=U("span"),ce(b.$$.fragment),v=q(),E=U("br"),T=q(),S=U("hr"),this.h()},l(w){e=N(w,"NAV",{class:!0});var I=F(e);t=N(I,"UL",{});var P=F(t);i=N(P,"LI",{});var A=F(i);r=N(A,"A",{href:!0,"data-svelte-h":!0}),Ye(r)!=="svelte-1httx8k"&&(r.textContent=n),A.forEach(y),o=V(P),a=N(P,"LI",{});var K=F(a);l=N(K,"A",{href:!0,"data-svelte-h":!0}),Ye(l)!=="svelte-1ql6jeq"&&(l.textContent=c),K.forEach(y),u=V(P),h=N(P,"BR",{}),d=V(P),f=N(P,"HR",{class:!0}),m=V(P),_=N(P,"LI",{});var G=F(_);g=N(G,"SPAN",{});var Y=F(g);ue(b.$$.fragment,Y),Y.forEach(y),G.forEach(y),v=V(P),E=N(P,"BR",{}),T=V(P),S=N(P,"HR",{class:!0}),P.forEach(y),I.forEach(y),this.h()},h(){p(r,"href","/home"),p(l,"href","/editor"),p(f,"class","py-2"),p(S,"class","py-2"),p(e,"class","list-nav p-4")},m(w,I){B(w,e,I),x(e,t),x(t,i),x(i,r),x(t,o),x(t,a),x(a,l),x(t,u),x(t,h),x(t,d),x(t,f),x(t,m),x(t,_),x(_,g),he(b,g,null),x(t,v),x(t,E),x(t,T),x(t,S),R=!0,L||(k=[z(r,"click",s[0]),z(l,"click",s[0])],L=!0)},p:Q,i(w){R||(C(b.$$.fragment,w),R=!0)},o(w){j(b.$$.fragment,w),R=!1},d(w){w&&y(e),de(b),L=!1,dt(k)}}}function ac(s){const e=Jt();function t(){e.close()}return[t]}class lc extends be{constructor(e){super(),pe(this,e,ac,oc,ge,{})}}function cc(s){let e,t="Sign Out",i,r;return{c(){e=U("button"),e.textContent=t,this.h()},l(n){e=N(n,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-1n36w22"&&(e.textContent=t),this.h()},h(){p(e,"class","btn variant-filled-primary")},m(n,o){B(n,e,o),i||(r=z(e,"click",s[0]),i=!0)},p:Q,i:Q,o:Q,d(n){n&&y(e),i=!1,r()}}}function uc(s,e,t){let{supabase:i}=e;async function r(){try{await i.auth.signOut(),Fn(".",{replaceState:!0,noscroll:!0})}catch(n){console.error("Error during signing out home page",n.message)}}return s.$$set=n=>{"supabase"in n&&t(1,i=n.supabase)},[r,i]}class hc extends be{constructor(e){super(),pe(this,e,uc,cc,ge,{supabase:1})}}const dc=()=>{const{subscribe:s,update:e,set:t}=qt({status:"IDLE",message:""});function i(n){e(()=>({status:n?"NAVIGATING":"IDLE",message:""}))}function r(n,o=""){e(()=>({status:n?"LOADING":"IDLE",message:n?o:""}))}return{subscribe:s,update:e,set:t,setNavigate:i,setLoading:r}},ui=dc();function js(s){let e,t,i,r;const n=s[3].default,o=ee(n,s,s[2],null);return{c(){e=U("div"),o&&o.c(),this.h()},l(a){e=N(a,"DIV",{"data-transition-component-key":!0});var l=F(e);o&&o.l(l),l.forEach(y),this.h()},h(){p(e,"data-transition-component-key",s[0])},m(a,l){B(a,e,l),o&&o.m(e,null),r=!0},p(a,l){s=a,o&&o.p&&(!r||l&4)&&te(o,n,s,s[2],r?se(n,s[2],l,null):ie(s[2]),null),(!r||l&1)&&p(e,"data-transition-component-key",s[0])},i(a){r||(C(o,a),a&&Ut(()=>{r&&(i&&i.end(1),t=Nt(e,lt,{x:-200,duration:s[1],delay:s[1]}),t.start())}),r=!0)},o(a){j(o,a),t&&t.invalidate(),a&&(i=Ft(e,lt,{duration:s[1]})),r=!1},d(a){a&&y(e),o&&o.d(a),a&&i&&i.end()}}}function fc(s){let e=s[0],t,i,r=js(s);return{c(){r.c(),t=Se()},l(n){r.l(n),t=Se()},m(n,o){r.m(n,o),B(n,t,o),i=!0},p(n,[o]){o&1&&ge(e,e=n[0])?(oe(),j(r,1,1,Q),ae(),r=js(n),r.c(),C(r,1),r.m(t.parentNode,t)):r.p(n,o)},i(n){i||(C(r),i=!0)},o(n){j(r),i=!1},d(n){n&&y(t),r.d(n)}}}function gc(s,e,t){let{$$slots:i={},$$scope:r}=e,{key:n}=e,{duration:o=300}=e;return s.$$set=a=>{"key"in a&&t(0,n=a.key),"duration"in a&&t(1,o=a.duration),"$$scope"in a&&t(2,r=a.$$scope)},[n,o,r,i]}class mc extends be{constructor(e){super(),pe(this,e,gc,fc,ge,{key:0,duration:1})}}function Is(s){let e,t,i='<div class="jelly-triangle__dot svelte-ag0up8"></div> <div class="jelly-triangle__traveler svelte-ag0up8"></div>',r,n,o,a,l,c,u,h,d;function f(g,b){return g[0].message!==""?bc:_c}let m=f(s),_=m(s);return{c(){e=U("div"),t=U("div"),t.innerHTML=i,r=q(),n=Ie("svg"),o=Ie("defs"),a=Ie("filter"),l=Ie("feGaussianBlur"),c=Ie("feColorMatrix"),u=Ie("feBlend"),h=q(),d=U("div"),_.c(),this.h()},l(g){e=N(g,"DIV",{class:!0});var b=F(e);t=N(b,"DIV",{class:!0,"data-svelte-h":!0}),Ye(t)!=="svelte-9dt41s"&&(t.innerHTML=i),r=V(b),n=Le(b,"svg",{width:!0,height:!0,class:!0});var v=F(n);o=Le(v,"defs",{});var E=F(o);a=Le(E,"filter",{id:!0});var T=F(a);l=Le(T,"feGaussianBlur",{in:!0,stdDeviation:!0,result:!0}),F(l).forEach(y),c=Le(T,"feColorMatrix",{in:!0,mode:!0,values:!0,result:!0}),F(c).forEach(y),u=Le(T,"feBlend",{in:!0,in2:!0}),F(u).forEach(y),T.forEach(y),E.forEach(y),v.forEach(y),h=V(b),d=N(b,"DIV",{class:!0});var S=F(d);_.l(S),S.forEach(y),b.forEach(y),this.h()},h(){p(t,"class","jelly-triangle svelte-ag0up8"),p(l,"in","SourceGraphic"),p(l,"stdDeviation","7.3"),p(l,"result","blur"),p(c,"in","blur"),p(c,"mode","matrix"),p(c,"values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7"),p(c,"result","ooze"),p(u,"in","SourceGraphic"),p(u,"in2","ooze"),p(a,"id","uib-jelly-triangle-ooze"),p(n,"width","0"),p(n,"height","0"),p(n,"class","jelly-maker svelte-ag0up8"),p(d,"class","text-md text-transform: capitalize font-poppins font-semibold p-2"),p(e,"class","flex justify-center items-center h-screen")},m(g,b){B(g,e,b),x(e,t),x(e,r),x(e,n),x(n,o),x(o,a),x(a,l),x(a,c),x(a,u),x(e,h),x(e,d),_.m(d,null)},p(g,b){m===(m=f(g))&&_?_.p(g,b):(_.d(1),_=m(g),_&&(_.c(),_.m(d,null)))},d(g){g&&y(e),_.d()}}}function _c(s){let e;return{c(){e=Ze(Ls)},l(t){e=$e(t,Ls)},m(t,i){B(t,e,i)},p:Q,d(t){t&&y(e)}}}function bc(s){let e=s[0].message+"",t;return{c(){t=Ze(e)},l(i){t=$e(i,e)},m(i,r){B(i,t,r)},p(i,r){r&1&&e!==(e=i[0].message+"")&&Us(t,e)},d(i){i&&y(t)}}}function pc(s){let e,t=s[0].status==="LOADING"&&Is(s);return{c(){t&&t.c(),e=Se()},l(i){t&&t.l(i),e=Se()},m(i,r){t&&t.m(i,r),B(i,e,r)},p(i,[r]){i[0].status==="LOADING"?t?t.p(i,r):(t=Is(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Q,o:Q,d(i){i&&y(e),t&&t.d(i)}}}let Ls="One Moment please...";function vc(s,e,t){let i;return Oe(s,ui,r=>t(0,i=r)),s.$$.update=()=>{s.$$.dirty&1&&i.status==="NAVIGATING"&&setTimeout(()=>{i.status==="NAVIGATING"&&xs(ui,i.status="LOADING",i)},600)},[i]}class yc extends be{constructor(e){super(),pe(this,e,vc,pc,ge,{})}}function wc(s){let e,t="Navigation",i,r,n,o,a;return o=new lc({}),{c(){e=U("h2"),e.textContent=t,i=q(),r=U("hr"),n=q(),ce(o.$$.fragment),this.h()},l(l){e=N(l,"H2",{class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-dhm0r2"&&(e.textContent=t),i=V(l),r=N(l,"HR",{}),n=V(l),ue(o.$$.fragment,l),this.h()},h(){p(e,"class","p-4")},m(l,c){B(l,e,c),B(l,i,c),B(l,r,c),B(l,n,c),he(o,l,c),a=!0},p:Q,i(l){a||(C(o.$$.fragment,l),a=!0)},o(l){j(o.$$.fragment,l),a=!1},d(l){l&&(y(e),y(i),y(r),y(n)),de(o,l)}}}function kc(s){let e;const t=s[5].default,i=ee(t,s,s[6],null);return{c(){i&&i.c()},l(r){i&&i.l(r)},m(r,n){i&&i.m(r,n),e=!0},p(r,n){i&&i.p&&(!e||n&64)&&te(i,t,r,r[6],e?se(t,r[6],n,null):ie(r[6]),null)},i(r){e||(C(i,r),e=!0)},o(r){j(i,r),e=!1},d(r){i&&i.d(r)}}}function Sc(s){let e,t;return e=new mc({props:{key:s[0].url,duration:600,$$slots:{default:[kc]},$$scope:{ctx:s}}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,r){he(e,i,r),t=!0},p(i,r){const n={};r&1&&(n.key=i[0].url),r&64&&(n.$$scope={dirty:r,ctx:i}),e.$set(n)},i(i){t||(C(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){de(e,i)}}}function Ec(s){let e,t,i;return t=new rc({}),{c(){e=U("div"),ce(t.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var n=F(e);ue(t.$$.fragment,n),n.forEach(y),this.h()},h(){p(e,"class","hidden md:block")},m(r,n){B(r,e,n),he(t,e,null),i=!0},p:Q,i(r){i||(C(t.$$.fragment,r),i=!0)},o(r){j(t.$$.fragment,r),i=!1},d(r){r&&y(e),de(t)}}}function Tc(s){let e,t="APP4080";return{c(){e=U("p"),e.textContent=t,this.h()},l(i){e=N(i,"P",{class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-oo1cq1"&&(e.textContent=t),this.h()},h(){p(e,"class","Quicksand")},m(i,r){B(i,e,r)},p:Q,i:Q,o:Q,d(i){i&&y(e)}}}function Oc(s){let e,t,i;return t=new hc({props:{supabase:s[1]}}),{c(){e=U("p"),ce(t.$$.fragment),this.h()},l(r){e=N(r,"P",{class:!0});var n=F(e);ue(t.$$.fragment,n),n.forEach(y),this.h()},h(){p(e,"class","")},m(r,n){B(r,e,n),he(t,e,null),i=!0},p(r,n){const o={};n&2&&(o.supabase=r[1]),t.$set(o)},i(r){i||(C(t.$$.fragment,r),i=!0)},o(r){j(t.$$.fragment,r),i=!1},d(r){r&&y(e),de(t)}}}function Cc(s){let e,t,i='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="fill-token" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg>',r,n,o,a,l,c;const u=[Oc,Tc],h=[];function d(f,m){var _;return(_=f[2].data.session)!=null&&_.user?0:1}return n=d(s),o=h[n]=u[n](s),{c(){e=U("div"),t=U("button"),t.innerHTML=i,r=q(),o.c(),this.h()},l(f){e=N(f,"DIV",{class:!0});var m=F(e);t=N(m,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(t)!=="svelte-1vihcx0"&&(t.innerHTML=i),r=V(m),o.l(m),m.forEach(y),this.h()},h(){p(t,"class","lg:hidden md:hidden btn btn-sm mr"),p(e,"class","flex items-center")},m(f,m){B(f,e,m),x(e,t),x(e,r),h[n].m(e,null),a=!0,l||(c=z(t,"click",s[3]),l=!0)},p(f,m){let _=n;n=d(f),n===_?h[n].p(f,m):(oe(),j(h[_],1,1,()=>{h[_]=null}),ae(),o=h[n],o?o.p(f,m):(o=h[n]=u[n](f),o.c()),C(o,1),o.m(e,null))},i(f){a||(C(o),a=!0)},o(f){j(o),a=!1},d(f){f&&y(e),h[n].d(),l=!1,c()}}}function Rc(s){let e,t,i;return t=new tn({}),{c(){e=U("p"),ce(t.$$.fragment),this.h()},l(r){e=N(r,"P",{class:!0});var n=F(e);ue(t.$$.fragment,n),n.forEach(y),this.h()},h(){p(e,"class","hidden md:block")},m(r,n){B(r,e,n),he(t,e,null),i=!0},p:Q,i(r){i||(C(t.$$.fragment,r),i=!0)},o(r){j(t.$$.fragment,r),i=!1},d(r){r&&y(e),de(t)}}}function Ac(s){let e,t;return e=new Ra({props:{slotDefault:"place-self-center",slotTrail:"place-content-end",$$slots:{trail:[Rc],lead:[Cc],default:[Ec]},$$scope:{ctx:s}}}),{c(){ce(e.$$.fragment)},l(i){ue(e.$$.fragment,i)},m(i,r){he(e,i,r),t=!0},p(i,r){const n={};r&70&&(n.$$scope={dirty:r,ctx:i}),e.$set(n)},i(i){t||(C(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){de(e,i)}}}function Pc(s){let e,t,i,r,n,o,a,l;return e=new wl({}),i=new yc({}),n=new ll({props:{$$slots:{default:[wc]},$$scope:{ctx:s}}}),a=new qa({props:{slotSidebarLeft:"bg-surface-500/5 w-0 lg:w-48",$$slots:{header:[Ac],default:[Sc]},$$scope:{ctx:s}}}),{c(){ce(e.$$.fragment),t=q(),ce(i.$$.fragment),r=q(),ce(n.$$.fragment),o=q(),ce(a.$$.fragment)},l(c){ue(e.$$.fragment,c),t=V(c),ue(i.$$.fragment,c),r=V(c),ue(n.$$.fragment,c),o=V(c),ue(a.$$.fragment,c)},m(c,u){he(e,c,u),B(c,t,u),he(i,c,u),B(c,r,u),he(n,c,u),B(c,o,u),he(a,c,u),l=!0},p(c,[u]){const h={};u&64&&(h.$$scope={dirty:u,ctx:c}),n.$set(h);const d={};u&71&&(d.$$scope={dirty:u,ctx:c}),a.$set(d)},i(c){l||(C(e.$$.fragment,c),C(i.$$.fragment,c),C(n.$$.fragment,c),C(a.$$.fragment,c),l=!0)},o(c){j(e.$$.fragment,c),j(i.$$.fragment,c),j(n.$$.fragment,c),j(a.$$.fragment,c),l=!1},d(c){c&&(y(t),y(r),y(o)),de(e,c),de(i,c),de(n,c),de(a,c)}}}function jc(s,e,t){let i,r;Oe(s,Mn,d=>t(4,i=d)),Oe(s,Fs,d=>t(2,r=d));let{$$slots:n={},$$scope:o}=e;ma(),ca.set({computePosition:$l,autoUpdate:Zl,flip:jl,shift:Dl,offset:Ll,arrow:Pl});let{data:a}=e,{supabase:l,session:c}=a;const u=Jt();function h(){u.open({})}return Ds(()=>{const{data:{subscription:d}}=l.auth.onAuthStateChange((f,m)=>{(m==null?void 0:m.expires_at)!==(c==null?void 0:c.expires_at)&&Bn("supabase:auth")});return()=>d.unsubscribe()}),s.$$set=d=>{"data"in d&&t(0,a=d.data),"$$scope"in d&&t(6,o=d.$$scope)},s.$$.update=()=>{s.$$.dirty&16&&ui.setNavigate(!!i),s.$$.dirty&1&&t(1,{supabase:l,session:c}=a,l)},[a,l,r,h,i,n,o]}class qc extends be{constructor(e){super(),pe(this,e,jc,Pc,ge,{data:0})}}export{qc as component,zc as universal};
